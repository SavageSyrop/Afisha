2023-05-06 11:18:44 INFO  Main:55 - Starting Main using Java 17.0.1 on DESKTOP-RGGTMQN with PID 3392 (D:\Java Projects\NewAfisha\Afisha\api-gateway\target\classes started by desertfox in D:\Java Projects\NewAfisha\Afisha)
2023-05-06 11:18:44 INFO  Main:634 - No active profile set, falling back to 1 default profile: "default"
2023-05-06 11:18:45 INFO  ChangeableUrls:255 - The Class-Path manifest attribute in C:\Users\desertfox\.m2\repository\io\grpc\grpc-netty-shaded\1.30.0\grpc-netty-shaded-1.30.0.jar referenced one or more files that do not exist: file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-core-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-api-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/gson-2.8.6.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/annotations-4.1.1.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/animal-sniffer-annotations-1.18.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/error_prone_annotations-2.3.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/guava-28.2-android.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/perfmark-api-0.19.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/jsr305-3.0.2.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-context-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/failureaccess-1.0.1.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/checker-compat-qual-2.5.5.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/j2objc-annotations-1.3.jar
2023-05-06 11:18:45 INFO  DevToolsPropertyDefaultsPostProcessor:255 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-06 11:18:45 INFO  DevToolsPropertyDefaultsPostProcessor:255 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-06 11:18:46 INFO  TomcatWebServer:108 - Tomcat initialized with port(s): 8090 (http)
2023-05-06 11:18:46 INFO  StandardService:173 - Starting service [Tomcat]
2023-05-06 11:18:46 INFO  StandardEngine:173 - Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-06 11:18:46 INFO  [/]:173 - Initializing Spring embedded WebApplicationContext
2023-05-06 11:18:46 INFO  ServletWebServerApplicationContext:292 - Root WebApplicationContext: initialization completed in 1845 ms
2023-05-06 11:18:47 INFO  DefaultSecurityFilterChain:55 - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4898365c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2237dcb2, org.springframework.security.web.context.SecurityContextPersistenceFilter@6e3505a8, org.springframework.security.web.header.HeaderWriterFilter@5d3c78d3, org.springframework.security.web.authentication.logout.LogoutFilter@7bdbbb35, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6813239a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1793b255, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7eae3ccd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@66f5ccbc, org.springframework.security.web.session.SessionManagementFilter@1fc36012, org.springframework.security.web.access.ExceptionTranslationFilter@48d2f52e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@790db28f]
2023-05-06 11:18:47 INFO  OptionalLiveReloadServer:58 - LiveReload server is running on port 35729
2023-05-06 11:18:47 INFO  TomcatWebServer:220 - Tomcat started on port(s): 8090 (http) with context path ''
2023-05-06 11:18:47 INFO  Main:61 - Started Main in 3.506 seconds (JVM running for 4.202)
2023-05-06 11:19:02 INFO  [/]:173 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-06 11:19:02 INFO  DispatcherServlet:525 - Initializing Servlet 'dispatcherServlet'
2023-05-06 11:19:02 INFO  DispatcherServlet:547 - Completed initialization in 1 ms
2023-05-06 11:37:30 INFO  GrpcServerLifecycle:116 - gRPC server shutdown.
2023-05-06 11:37:30 INFO  LocalContainerEntityManagerFactoryBean:651 - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-05-06 11:37:30 INFO  HikariDataSource:350 - HikariPool-1 - Shutdown initiated...
2023-05-06 11:37:30 INFO  HikariDataSource:352 - HikariPool-1 - Shutdown completed.
2023-05-06 11:49:15 INFO  Main:55 - Starting Main using Java 17.0.1 on DESKTOP-RGGTMQN with PID 3940 (D:\Java Projects\NewAfisha\Afisha\api-gateway\target\classes started by desertfox in D:\Java Projects\NewAfisha\Afisha)
2023-05-06 11:49:15 INFO  Main:634 - No active profile set, falling back to 1 default profile: "default"
2023-05-06 11:49:15 INFO  ChangeableUrls:255 - The Class-Path manifest attribute in C:\Users\desertfox\.m2\repository\io\grpc\grpc-netty-shaded\1.30.0\grpc-netty-shaded-1.30.0.jar referenced one or more files that do not exist: file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-core-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-api-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/gson-2.8.6.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/annotations-4.1.1.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/animal-sniffer-annotations-1.18.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/error_prone_annotations-2.3.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/guava-28.2-android.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/perfmark-api-0.19.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/jsr305-3.0.2.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-context-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/failureaccess-1.0.1.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/checker-compat-qual-2.5.5.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/j2objc-annotations-1.3.jar
2023-05-06 11:49:15 INFO  DevToolsPropertyDefaultsPostProcessor:255 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-06 11:49:15 INFO  DevToolsPropertyDefaultsPostProcessor:255 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-06 11:49:17 INFO  TomcatWebServer:108 - Tomcat initialized with port(s): 8090 (http)
2023-05-06 11:49:17 INFO  StandardService:173 - Starting service [Tomcat]
2023-05-06 11:49:17 INFO  StandardEngine:173 - Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-06 11:49:17 INFO  [/]:173 - Initializing Spring embedded WebApplicationContext
2023-05-06 11:49:17 INFO  ServletWebServerApplicationContext:292 - Root WebApplicationContext: initialization completed in 2026 ms
2023-05-06 11:49:17 ERROR StandardManager:175 - Exception loading sessions from persistent storage
java.io.InvalidClassException: ru.it.lab.entitities.Authorization; local class incompatible: stream classdesc serialVersionUID = -8014193418833985666, local class serialVersionUID = -1406540934047435900
	at java.base/java.io.ObjectStreamClass.initNonProxy(ObjectStreamClass.java:728)
	at java.base/java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:2060)
	at java.base/java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1907)
	at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2209)
	at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1742)
	at java.base/java.io.ObjectInputStream$FieldValues.<init>(ObjectInputStream.java:2584)
	at java.base/java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2442)
	at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2242)
	at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1742)
	at java.base/java.io.ObjectInputStream$FieldValues.<init>(ObjectInputStream.java:2584)
	at java.base/java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2442)
	at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2242)
	at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1742)
	at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:514)
	at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:472)
	at org.apache.catalina.session.StandardSession.doReadObject(StandardSession.java:1608)
	at org.apache.catalina.session.StandardSession.readObjectData(StandardSession.java:1050)
	at org.apache.catalina.session.StandardManager.doLoad(StandardManager.java:219)
	at org.apache.catalina.session.StandardManager.load(StandardManager.java:162)
	at org.apache.catalina.session.StandardManager.startInternal(StandardManager.java:356)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5247)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:104)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:479)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:184)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at ru.it.lab.APIGatewayMain.main(Main.java:20)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
2023-05-06 11:49:18 INFO  DefaultSecurityFilterChain:55 - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4e31f836, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@ff8696d, org.springframework.security.web.context.SecurityContextPersistenceFilter@253e11da, org.springframework.security.web.header.HeaderWriterFilter@3434e7df, org.springframework.security.web.authentication.logout.LogoutFilter@33e41d9, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5ac2c199, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f133cde, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5c9b5fef, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5a2c21be, org.springframework.security.web.session.SessionManagementFilter@5a000947, org.springframework.security.web.access.ExceptionTranslationFilter@7668ecd1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3ef42da8]
2023-05-06 11:49:18 INFO  OptionalLiveReloadServer:58 - LiveReload server is running on port 35729
2023-05-06 11:49:18 INFO  TomcatWebServer:220 - Tomcat started on port(s): 8090 (http) with context path ''
2023-05-06 11:49:18 INFO  Main:61 - Started Main in 3.731 seconds (JVM running for 4.362)
2023-05-06 11:51:20 INFO  APIGatewayMain:55 - Starting APIGatewayMain using Java 17.0.1 on DESKTOP-RGGTMQN with PID 7372 (D:\Java Projects\NewAfisha\Afisha\api-gateway\target\classes started by desertfox in D:\Java Projects\NewAfisha\Afisha)
2023-05-06 11:51:20 INFO  APIGatewayMain:634 - No active profile set, falling back to 1 default profile: "default"
2023-05-06 11:51:20 INFO  ChangeableUrls:255 - The Class-Path manifest attribute in C:\Users\desertfox\.m2\repository\io\grpc\grpc-netty-shaded\1.30.0\grpc-netty-shaded-1.30.0.jar referenced one or more files that do not exist: file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-core-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-api-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/gson-2.8.6.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/annotations-4.1.1.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/animal-sniffer-annotations-1.18.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/error_prone_annotations-2.3.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/guava-28.2-android.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/perfmark-api-0.19.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/jsr305-3.0.2.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-context-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/failureaccess-1.0.1.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/checker-compat-qual-2.5.5.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/j2objc-annotations-1.3.jar
2023-05-06 11:51:20 INFO  DevToolsPropertyDefaultsPostProcessor:255 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-06 11:51:20 INFO  DevToolsPropertyDefaultsPostProcessor:255 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-06 11:51:22 INFO  TomcatWebServer:108 - Tomcat initialized with port(s): 8090 (http)
2023-05-06 11:51:22 INFO  StandardService:173 - Starting service [Tomcat]
2023-05-06 11:51:22 INFO  StandardEngine:173 - Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-06 11:51:22 INFO  [/]:173 - Initializing Spring embedded WebApplicationContext
2023-05-06 11:51:22 INFO  ServletWebServerApplicationContext:292 - Root WebApplicationContext: initialization completed in 1742 ms
2023-05-06 11:51:23 INFO  DefaultSecurityFilterChain:55 - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@733e89a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5e34a99b, org.springframework.security.web.context.SecurityContextPersistenceFilter@2190fb11, org.springframework.security.web.header.HeaderWriterFilter@79fbb5d8, org.springframework.security.web.authentication.logout.LogoutFilter@1e245191, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@d25649f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b8d5e4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@584d27ef, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45eb489f, org.springframework.security.web.session.SessionManagementFilter@52d563a1, org.springframework.security.web.access.ExceptionTranslationFilter@12dc1f54, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6190941d]
2023-05-06 11:51:24 WARN  OptionalLiveReloadServer:61 - Unable to start LiveReload server
2023-05-06 11:51:24 INFO  TomcatWebServer:220 - Tomcat started on port(s): 8090 (http) with context path ''
2023-05-06 11:51:24 INFO  APIGatewayMain:61 - Started APIGatewayMain in 3.635 seconds (JVM running for 4.263)
2023-05-06 11:51:30 INFO  [/]:173 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-06 11:51:30 INFO  DispatcherServlet:525 - Initializing Servlet 'dispatcherServlet'
2023-05-06 11:51:30 INFO  DispatcherServlet:547 - Completed initialization in 2 ms
2023-05-06 11:51:32 ERROR [dispatcherServlet]:175 - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class com.google.protobuf.UnknownFieldSet$Parser]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class com.google.protobuf.UnknownFieldSet$Parser and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: ru.it.lab.UserProto["unknownFields"]->com.google.protobuf.UnknownFieldSet["parserForType"])] with root cause
com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class com.google.protobuf.UnknownFieldSet$Parser and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: ru.it.lab.UserProto["unknownFields"]->com.google.protobuf.UnknownFieldSet["parserForType"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1300)
	at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:46)
	at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:29)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319)
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1518)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1007)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:456)
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:290)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:183)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-05-06 11:58:04 INFO  APIGatewayMain:55 - Starting APIGatewayMain using Java 17.0.1 on DESKTOP-RGGTMQN with PID 19080 (D:\Java Projects\NewAfisha\Afisha\api-gateway\target\classes started by desertfox in D:\Java Projects\NewAfisha\Afisha)
2023-05-06 11:58:04 INFO  APIGatewayMain:634 - No active profile set, falling back to 1 default profile: "default"
2023-05-06 11:58:04 INFO  ChangeableUrls:255 - The Class-Path manifest attribute in C:\Users\desertfox\.m2\repository\io\grpc\grpc-netty-shaded\1.30.0\grpc-netty-shaded-1.30.0.jar referenced one or more files that do not exist: file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-core-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-api-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/gson-2.8.6.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/annotations-4.1.1.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/animal-sniffer-annotations-1.18.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/error_prone_annotations-2.3.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/guava-28.2-android.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/perfmark-api-0.19.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/jsr305-3.0.2.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-context-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/failureaccess-1.0.1.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/checker-compat-qual-2.5.5.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/j2objc-annotations-1.3.jar
2023-05-06 11:58:04 INFO  DevToolsPropertyDefaultsPostProcessor:255 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-06 11:58:04 INFO  DevToolsPropertyDefaultsPostProcessor:255 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-06 11:58:05 INFO  TomcatWebServer:108 - Tomcat initialized with port(s): 8090 (http)
2023-05-06 11:58:06 INFO  StandardService:173 - Starting service [Tomcat]
2023-05-06 11:58:06 INFO  StandardEngine:173 - Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-06 11:58:06 INFO  [/]:173 - Initializing Spring embedded WebApplicationContext
2023-05-06 11:58:06 INFO  ServletWebServerApplicationContext:292 - Root WebApplicationContext: initialization completed in 1680 ms
2023-05-06 11:58:06 INFO  DefaultSecurityFilterChain:55 - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@47f0e020, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5f9fa77c, org.springframework.security.web.context.SecurityContextPersistenceFilter@796d9ea5, org.springframework.security.web.header.HeaderWriterFilter@e0ee20b, org.springframework.security.web.authentication.logout.LogoutFilter@60289545, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@211461bb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@d17e3e7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@656e3579, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@241ca565, org.springframework.security.web.session.SessionManagementFilter@2190fb11, org.springframework.security.web.access.ExceptionTranslationFilter@14773ad6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@57f28d83]
2023-05-06 11:58:07 WARN  OptionalLiveReloadServer:61 - Unable to start LiveReload server
2023-05-06 11:58:07 INFO  TomcatWebServer:220 - Tomcat started on port(s): 8090 (http) with context path ''
2023-05-06 11:58:07 INFO  APIGatewayMain:61 - Started APIGatewayMain in 3.253 seconds (JVM running for 3.84)
2023-05-06 11:58:16 INFO  [/]:173 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-06 11:58:16 INFO  DispatcherServlet:525 - Initializing Servlet 'dispatcherServlet'
2023-05-06 11:58:16 INFO  DispatcherServlet:547 - Completed initialization in 1 ms
2023-05-06 11:58:53 INFO  GrpcServerLifecycle:116 - gRPC server shutdown.
2023-05-06 11:58:53 INFO  LocalContainerEntityManagerFactoryBean:651 - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-05-06 11:58:53 INFO  HikariDataSource:350 - HikariPool-1 - Shutdown initiated...
2023-05-06 11:58:53 INFO  HikariDataSource:352 - HikariPool-1 - Shutdown completed.
2023-05-06 12:44:33 INFO  UserMicroserviceMain:55 - Starting UserMicroserviceMain using Java 17.0.1 on DESKTOP-RGGTMQN with PID 12964 (D:\Java Projects\NewAfisha\Afisha\user-service\target\classes started by desertfox in D:\Java Projects\NewAfisha\Afisha)
2023-05-06 12:44:33 INFO  UserMicroserviceMain:634 - No active profile set, falling back to 1 default profile: "default"
2023-05-06 12:44:33 INFO  ChangeableUrls:255 - The Class-Path manifest attribute in C:\Users\desertfox\.m2\repository\io\grpc\grpc-netty-shaded\1.30.0\grpc-netty-shaded-1.30.0.jar referenced one or more files that do not exist: file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-core-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-api-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/gson-2.8.6.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/annotations-4.1.1.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/animal-sniffer-annotations-1.18.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/error_prone_annotations-2.3.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/guava-28.2-android.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/perfmark-api-0.19.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/jsr305-3.0.2.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-context-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/failureaccess-1.0.1.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/checker-compat-qual-2.5.5.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/j2objc-annotations-1.3.jar
2023-05-06 12:44:33 INFO  DevToolsPropertyDefaultsPostProcessor:255 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-06 12:44:33 INFO  DevToolsPropertyDefaultsPostProcessor:255 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-06 12:44:34 INFO  RepositoryConfigurationDelegate:132 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-05-06 12:44:34 INFO  RepositoryConfigurationDelegate:201 - Finished Spring Data repository scanning in 20 ms. Found 0 JPA repository interfaces.
2023-05-06 12:44:35 INFO  TomcatWebServer:108 - Tomcat initialized with port(s): 8080 (http)
2023-05-06 12:44:35 INFO  StandardService:173 - Starting service [Tomcat]
2023-05-06 12:44:35 INFO  StandardEngine:173 - Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-06 12:44:35 INFO  [/]:173 - Initializing Spring embedded WebApplicationContext
2023-05-06 12:44:35 INFO  ServletWebServerApplicationContext:292 - Root WebApplicationContext: initialization completed in 2185 ms
2023-05-06 12:44:35 INFO  VersionPrinter:37 - Flyway Community Edition 8.5.13 by Redgate
2023-05-06 12:44:35 INFO  VersionPrinter:37 - See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-05-06 12:44:35 INFO  VersionPrinter:37 - 
2023-05-06 12:44:36 INFO  HikariDataSource:110 - HikariPool-1 - Starting...
2023-05-06 12:44:36 INFO  HikariDataSource:123 - HikariPool-1 - Start completed.
2023-05-06 12:44:36 INFO  BaseDatabaseType:37 - Database: jdbc:postgresql://localhost:5432/afishaDB (PostgreSQL 15.0)
2023-05-06 12:44:36 WARN  Database:41 - Flyway upgrade recommended: PostgreSQL 15.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2023-05-06 12:44:36 INFO  DbClean:37 - Successfully dropped pre-schema database level objects (execution time 00:00.000s)
2023-05-06 12:44:36 INFO  DbClean:37 - Successfully cleaned schema "public" (execution time 00:00.069s)
2023-05-06 12:44:36 INFO  DbClean:37 - Successfully cleaned schema "public" (execution time 00:00.010s)
2023-05-06 12:44:36 INFO  DbClean:37 - Successfully dropped post-schema database level objects (execution time 00:00.000s)
2023-05-06 12:44:36 INFO  JdbcTableSchemaHistory:37 - Creating Schema History table "public"."flyway_schema_history" ...
2023-05-06 12:44:36 INFO  DbMigrate:37 - Current version of schema "public": << Empty Schema >>
2023-05-06 12:44:36 INFO  DbMigrate:37 - Migrating schema "public" to version "2023.04.05.11.12 - add user tables"
2023-05-06 12:44:36 INFO  DbMigrate:37 - Migrating schema "public" to version "2023.05.04.1.17 - insert user values"
2023-05-06 12:44:36 ERROR DbMigrate:45 - Migration of schema "public" to version "2023.05.04.1.17 - insert user values" failed! Changes successfully rolled back.
2023-05-06 12:44:36 WARN  AnnotationConfigServletWebServerApplicationContext:591 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V2023.05.04.1.17__insert_user_values.sql failed
---------------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ОШИБКА: столбец "%d.%m.%Y" не существует
  Позиция: 218
Location   : usersDB/V2023.05.04.1.17__insert_user_values.sql (D:\Java Projects\NewAfisha\Afisha\user-service\target\classes\usersDB\V2023.05.04.1.17__insert_user_values.sql)
Line       : 11
Statement  : INSERT INTO users(username, password, email, date_of_birth, role_id, is_open_profile) values
('desertfox', '$2a$10$dCKE0qv1SW3dKBTXkauFburkrCGOznBAhdXaV3Km9yre7qysphk1u', 'fess.2002@mail.ru',STR_TO_DATE('08.01.1965',"%d.%m.%Y"), 1, true),
('aleoonka', '$2a$10$Uimw7bv5iTa.5miRSn4M4uGosxfyh1d89aVEHIkSNsPFkz6NmgOLq', 'fess.2002@mail.ru',STR_TO_DATE('01.07.2010',"%d.%m.%Y"), 2, false)

2023-05-06 12:44:36 INFO  HikariDataSource:350 - HikariPool-1 - Shutdown initiated...
2023-05-06 12:44:36 INFO  HikariDataSource:352 - HikariPool-1 - Shutdown completed.
2023-05-06 12:44:36 INFO  StandardService:173 - Stopping service [Tomcat]
2023-05-06 12:44:36 INFO  ConditionEvaluationReportLoggingListener:136 - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-05-06 12:44:36 ERROR SpringApplication:824 - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V2023.05.04.1.17__insert_user_values.sql failed
---------------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ОШИБКА: столбец "%d.%m.%Y" не существует
  Позиция: 218
Location   : usersDB/V2023.05.04.1.17__insert_user_values.sql (D:\Java Projects\NewAfisha\Afisha\user-service\target\classes\usersDB\V2023.05.04.1.17__insert_user_values.sql)
Line       : 11
Statement  : INSERT INTO users(username, password, email, date_of_birth, role_id, is_open_profile) values
('desertfox', '$2a$10$dCKE0qv1SW3dKBTXkauFburkrCGOznBAhdXaV3Km9yre7qysphk1u', 'fess.2002@mail.ru',STR_TO_DATE('08.01.1965',"%d.%m.%Y"), 1, true),
('aleoonka', '$2a$10$Uimw7bv5iTa.5miRSn4M4uGosxfyh1d89aVEHIkSNsPFkz6NmgOLq', 'fess.2002@mail.ru',STR_TO_DATE('01.07.2010',"%d.%m.%Y"), 2, false)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at ru.it.lab.UserMicroserviceMain.main(UserMicroserviceMain.java:14)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V2023.05.04.1.17__insert_user_values.sql failed
---------------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ОШИБКА: столбец "%d.%m.%Y" не существует
  Позиция: 218
Location   : usersDB/V2023.05.04.1.17__insert_user_values.sql (D:\Java Projects\NewAfisha\Afisha\user-service\target\classes\usersDB\V2023.05.04.1.17__insert_user_values.sql)
Line       : 11
Statement  : INSERT INTO users(username, password, email, date_of_birth, role_id, is_open_profile) values
('desertfox', '$2a$10$dCKE0qv1SW3dKBTXkauFburkrCGOznBAhdXaV3Km9yre7qysphk1u', 'fess.2002@mail.ru',STR_TO_DATE('08.01.1965',"%d.%m.%Y"), 1, true),
('aleoonka', '$2a$10$Uimw7bv5iTa.5miRSn4M4uGosxfyh1d89aVEHIkSNsPFkz6NmgOLq', 'fess.2002@mail.ru',STR_TO_DATE('01.07.2010',"%d.%m.%Y"), 2, false)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:385)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:275)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:274)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:247)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:141)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:69)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:99)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:141)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:98)
	at org.flywaydb.core.Flyway$1.execute(Flyway.java:172)
	at org.flywaydb.core.Flyway$1.execute(Flyway.java:124)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:205)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:124)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 23 more
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V2023.05.04.1.17__insert_user_values.sql failed
---------------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ОШИБКА: столбец "%d.%m.%Y" не существует
  Позиция: 218
Location   : usersDB/V2023.05.04.1.17__insert_user_values.sql (D:\Java Projects\NewAfisha\Afisha\user-service\target\classes\usersDB\V2023.05.04.1.17__insert_user_values.sql)
Line       : 11
Statement  : INSERT INTO users(username, password, email, date_of_birth, role_id, is_open_profile) values
('desertfox', '$2a$10$dCKE0qv1SW3dKBTXkauFburkrCGOznBAhdXaV3Km9yre7qysphk1u', 'fess.2002@mail.ru',STR_TO_DATE('08.01.1965',"%d.%m.%Y"), 1, true),
('aleoonka', '$2a$10$Uimw7bv5iTa.5miRSn4M4uGosxfyh1d89aVEHIkSNsPFkz6NmgOLq', 'fess.2002@mail.ru',STR_TO_DATE('01.07.2010',"%d.%m.%Y"), 2, false)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:275)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:69)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:58)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:377)
	... 40 more
Caused by: org.postgresql.util.PSQLException: ОШИБКА: столбец "%d.%m.%Y" не существует
  Позиция: 218
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 46 more
2023-05-06 12:46:56 INFO  UserMicroserviceMain:55 - Starting UserMicroserviceMain using Java 17.0.1 on DESKTOP-RGGTMQN with PID 8184 (D:\Java Projects\NewAfisha\Afisha\user-service\target\classes started by desertfox in D:\Java Projects\NewAfisha\Afisha)
2023-05-06 12:46:56 INFO  UserMicroserviceMain:634 - No active profile set, falling back to 1 default profile: "default"
2023-05-06 12:46:56 INFO  ChangeableUrls:255 - The Class-Path manifest attribute in C:\Users\desertfox\.m2\repository\io\grpc\grpc-netty-shaded\1.30.0\grpc-netty-shaded-1.30.0.jar referenced one or more files that do not exist: file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-core-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-api-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/gson-2.8.6.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/annotations-4.1.1.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/animal-sniffer-annotations-1.18.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/error_prone_annotations-2.3.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/guava-28.2-android.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/perfmark-api-0.19.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/jsr305-3.0.2.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-context-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/failureaccess-1.0.1.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/checker-compat-qual-2.5.5.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/j2objc-annotations-1.3.jar
2023-05-06 12:46:56 INFO  DevToolsPropertyDefaultsPostProcessor:255 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-06 12:46:56 INFO  DevToolsPropertyDefaultsPostProcessor:255 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-06 12:46:57 INFO  RepositoryConfigurationDelegate:132 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-05-06 12:46:57 INFO  RepositoryConfigurationDelegate:201 - Finished Spring Data repository scanning in 21 ms. Found 0 JPA repository interfaces.
2023-05-06 12:46:58 INFO  TomcatWebServer:108 - Tomcat initialized with port(s): 8080 (http)
2023-05-06 12:46:58 INFO  StandardService:173 - Starting service [Tomcat]
2023-05-06 12:46:58 INFO  StandardEngine:173 - Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-06 12:46:58 INFO  [/]:173 - Initializing Spring embedded WebApplicationContext
2023-05-06 12:46:58 INFO  ServletWebServerApplicationContext:292 - Root WebApplicationContext: initialization completed in 1690 ms
2023-05-06 12:46:58 INFO  VersionPrinter:37 - Flyway Community Edition 8.5.13 by Redgate
2023-05-06 12:46:58 INFO  VersionPrinter:37 - See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-05-06 12:46:58 INFO  VersionPrinter:37 - 
2023-05-06 12:46:58 INFO  HikariDataSource:110 - HikariPool-1 - Starting...
2023-05-06 12:46:59 INFO  HikariDataSource:123 - HikariPool-1 - Start completed.
2023-05-06 12:46:59 INFO  BaseDatabaseType:37 - Database: jdbc:postgresql://localhost:5432/afishaDB (PostgreSQL 15.0)
2023-05-06 12:46:59 WARN  Database:41 - Flyway upgrade recommended: PostgreSQL 15.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2023-05-06 12:46:59 INFO  DbValidate:37 - Successfully validated 2 migrations (execution time 00:00.025s)
2023-05-06 12:46:59 INFO  DbMigrate:37 - Current version of schema "public": 2023.04.05.11.12
2023-05-06 12:46:59 INFO  DbMigrate:37 - Migrating schema "public" to version "2023.05.04.1.17 - insert user values"
2023-05-06 12:46:59 ERROR DbMigrate:45 - Migration of schema "public" to version "2023.05.04.1.17 - insert user values" failed! Changes successfully rolled back.
2023-05-06 12:46:59 WARN  AnnotationConfigServletWebServerApplicationContext:591 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V2023.05.04.1.17__insert_user_values.sql failed
---------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ОШИБКА: INSERT или UPDATE в таблице "permissions" нарушает ограничение внешнего ключа "permissions_role_id_fkey"
  Подробности: Ключ (role_id)=(1) отсутствует в таблице "roles".
Location   : usersDB/V2023.05.04.1.17__insert_user_values.sql (D:\Java Projects\NewAfisha\Afisha\user-service\target\classes\usersDB\V2023.05.04.1.17__insert_user_values.sql)
Line       : 5
Statement  : INSERT INTO permissions (name, role_id) values
('AUTHORIZED_ACTIONS', 1),
('AUTHORIZED_ACTIONS', 2),
('ADMIN_ACTIONS', 1)

2023-05-06 12:46:59 INFO  HikariDataSource:350 - HikariPool-1 - Shutdown initiated...
2023-05-06 12:46:59 INFO  HikariDataSource:352 - HikariPool-1 - Shutdown completed.
2023-05-06 12:46:59 INFO  StandardService:173 - Stopping service [Tomcat]
2023-05-06 12:46:59 INFO  ConditionEvaluationReportLoggingListener:136 - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-05-06 12:46:59 ERROR SpringApplication:824 - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V2023.05.04.1.17__insert_user_values.sql failed
---------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ОШИБКА: INSERT или UPDATE в таблице "permissions" нарушает ограничение внешнего ключа "permissions_role_id_fkey"
  Подробности: Ключ (role_id)=(1) отсутствует в таблице "roles".
Location   : usersDB/V2023.05.04.1.17__insert_user_values.sql (D:\Java Projects\NewAfisha\Afisha\user-service\target\classes\usersDB\V2023.05.04.1.17__insert_user_values.sql)
Line       : 5
Statement  : INSERT INTO permissions (name, role_id) values
('AUTHORIZED_ACTIONS', 1),
('AUTHORIZED_ACTIONS', 2),
('ADMIN_ACTIONS', 1)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at ru.it.lab.UserMicroserviceMain.main(UserMicroserviceMain.java:14)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V2023.05.04.1.17__insert_user_values.sql failed
---------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ОШИБКА: INSERT или UPDATE в таблице "permissions" нарушает ограничение внешнего ключа "permissions_role_id_fkey"
  Подробности: Ключ (role_id)=(1) отсутствует в таблице "roles".
Location   : usersDB/V2023.05.04.1.17__insert_user_values.sql (D:\Java Projects\NewAfisha\Afisha\user-service\target\classes\usersDB\V2023.05.04.1.17__insert_user_values.sql)
Line       : 5
Statement  : INSERT INTO permissions (name, role_id) values
('AUTHORIZED_ACTIONS', 1),
('AUTHORIZED_ACTIONS', 2),
('ADMIN_ACTIONS', 1)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:385)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:275)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:274)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:247)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:141)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:69)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:99)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:141)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:98)
	at org.flywaydb.core.Flyway$1.execute(Flyway.java:172)
	at org.flywaydb.core.Flyway$1.execute(Flyway.java:124)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:205)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:124)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 23 more
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V2023.05.04.1.17__insert_user_values.sql failed
---------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ОШИБКА: INSERT или UPDATE в таблице "permissions" нарушает ограничение внешнего ключа "permissions_role_id_fkey"
  Подробности: Ключ (role_id)=(1) отсутствует в таблице "roles".
Location   : usersDB/V2023.05.04.1.17__insert_user_values.sql (D:\Java Projects\NewAfisha\Afisha\user-service\target\classes\usersDB\V2023.05.04.1.17__insert_user_values.sql)
Line       : 5
Statement  : INSERT INTO permissions (name, role_id) values
('AUTHORIZED_ACTIONS', 1),
('AUTHORIZED_ACTIONS', 2),
('ADMIN_ACTIONS', 1)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:275)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:69)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:58)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:377)
	... 40 more
Caused by: org.postgresql.util.PSQLException: ОШИБКА: INSERT или UPDATE в таблице "permissions" нарушает ограничение внешнего ключа "permissions_role_id_fkey"
  Подробности: Ключ (role_id)=(1) отсутствует в таблице "roles".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 46 more
2023-05-06 12:51:08 INFO  UserMicroserviceMain:55 - Starting UserMicroserviceMain using Java 17.0.1 on DESKTOP-RGGTMQN with PID 2372 (D:\Java Projects\NewAfisha\Afisha\user-service\target\classes started by desertfox in D:\Java Projects\NewAfisha\Afisha)
2023-05-06 12:51:08 INFO  UserMicroserviceMain:634 - No active profile set, falling back to 1 default profile: "default"
2023-05-06 12:51:08 INFO  ChangeableUrls:255 - The Class-Path manifest attribute in C:\Users\desertfox\.m2\repository\io\grpc\grpc-netty-shaded\1.30.0\grpc-netty-shaded-1.30.0.jar referenced one or more files that do not exist: file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-core-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-api-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/gson-2.8.6.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/annotations-4.1.1.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/animal-sniffer-annotations-1.18.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/error_prone_annotations-2.3.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/guava-28.2-android.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/perfmark-api-0.19.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/jsr305-3.0.2.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-context-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/failureaccess-1.0.1.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/checker-compat-qual-2.5.5.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/j2objc-annotations-1.3.jar
2023-05-06 12:51:08 INFO  DevToolsPropertyDefaultsPostProcessor:255 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-06 12:51:08 INFO  DevToolsPropertyDefaultsPostProcessor:255 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-06 12:51:08 INFO  RepositoryConfigurationDelegate:132 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-05-06 12:51:08 INFO  RepositoryConfigurationDelegate:201 - Finished Spring Data repository scanning in 18 ms. Found 0 JPA repository interfaces.
2023-05-06 12:51:09 INFO  TomcatWebServer:108 - Tomcat initialized with port(s): 8080 (http)
2023-05-06 12:51:09 INFO  StandardService:173 - Starting service [Tomcat]
2023-05-06 12:51:09 INFO  StandardEngine:173 - Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-06 12:51:09 INFO  [/]:173 - Initializing Spring embedded WebApplicationContext
2023-05-06 12:51:09 INFO  ServletWebServerApplicationContext:292 - Root WebApplicationContext: initialization completed in 1712 ms
2023-05-06 12:51:09 INFO  VersionPrinter:37 - Flyway Community Edition 8.5.13 by Redgate
2023-05-06 12:51:09 INFO  VersionPrinter:37 - See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-05-06 12:51:09 INFO  VersionPrinter:37 - 
2023-05-06 12:51:09 INFO  HikariDataSource:110 - HikariPool-1 - Starting...
2023-05-06 12:51:10 INFO  HikariDataSource:123 - HikariPool-1 - Start completed.
2023-05-06 12:51:10 INFO  BaseDatabaseType:37 - Database: jdbc:postgresql://localhost:5432/afishaDB (PostgreSQL 15.0)
2023-05-06 12:51:10 WARN  Database:41 - Flyway upgrade recommended: PostgreSQL 15.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2023-05-06 12:51:10 INFO  DbValidate:37 - Successfully validated 2 migrations (execution time 00:00.019s)
2023-05-06 12:51:10 INFO  DbMigrate:37 - Current version of schema "public": 2023.04.05.11.12
2023-05-06 12:51:10 INFO  DbMigrate:37 - Migrating schema "public" to version "2023.05.04.1.17 - insert user values"
2023-05-06 12:51:10 ERROR DbMigrate:45 - Migration of schema "public" to version "2023.05.04.1.17 - insert user values" failed! Changes successfully rolled back.
2023-05-06 12:51:10 WARN  AnnotationConfigServletWebServerApplicationContext:591 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V2023.05.04.1.17__insert_user_values.sql failed
---------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ОШИБКА: INSERT или UPDATE в таблице "permissions" нарушает ограничение внешнего ключа "permissions_role_id_fkey"
  Подробности: Ключ (role_id)=(1) отсутствует в таблице "roles".
Location   : usersDB/V2023.05.04.1.17__insert_user_values.sql (D:\Java Projects\NewAfisha\Afisha\user-service\target\classes\usersDB\V2023.05.04.1.17__insert_user_values.sql)
Line       : 5
Statement  : INSERT INTO permissions (name, role_id) values
('AUTHORIZED_ACTIONS', 1),
('AUTHORIZED_ACTIONS', 2),
('ADMIN_ACTIONS', 1)

2023-05-06 12:51:10 INFO  HikariDataSource:350 - HikariPool-1 - Shutdown initiated...
2023-05-06 12:51:10 INFO  HikariDataSource:352 - HikariPool-1 - Shutdown completed.
2023-05-06 12:51:10 INFO  StandardService:173 - Stopping service [Tomcat]
2023-05-06 12:51:10 INFO  ConditionEvaluationReportLoggingListener:136 - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-05-06 12:51:10 ERROR SpringApplication:824 - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V2023.05.04.1.17__insert_user_values.sql failed
---------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ОШИБКА: INSERT или UPDATE в таблице "permissions" нарушает ограничение внешнего ключа "permissions_role_id_fkey"
  Подробности: Ключ (role_id)=(1) отсутствует в таблице "roles".
Location   : usersDB/V2023.05.04.1.17__insert_user_values.sql (D:\Java Projects\NewAfisha\Afisha\user-service\target\classes\usersDB\V2023.05.04.1.17__insert_user_values.sql)
Line       : 5
Statement  : INSERT INTO permissions (name, role_id) values
('AUTHORIZED_ACTIONS', 1),
('AUTHORIZED_ACTIONS', 2),
('ADMIN_ACTIONS', 1)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at ru.it.lab.UserMicroserviceMain.main(UserMicroserviceMain.java:14)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V2023.05.04.1.17__insert_user_values.sql failed
---------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ОШИБКА: INSERT или UPDATE в таблице "permissions" нарушает ограничение внешнего ключа "permissions_role_id_fkey"
  Подробности: Ключ (role_id)=(1) отсутствует в таблице "roles".
Location   : usersDB/V2023.05.04.1.17__insert_user_values.sql (D:\Java Projects\NewAfisha\Afisha\user-service\target\classes\usersDB\V2023.05.04.1.17__insert_user_values.sql)
Line       : 5
Statement  : INSERT INTO permissions (name, role_id) values
('AUTHORIZED_ACTIONS', 1),
('AUTHORIZED_ACTIONS', 2),
('ADMIN_ACTIONS', 1)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:385)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:275)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:274)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:247)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:141)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:69)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:99)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:141)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:98)
	at org.flywaydb.core.Flyway$1.execute(Flyway.java:172)
	at org.flywaydb.core.Flyway$1.execute(Flyway.java:124)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:205)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:124)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 23 more
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V2023.05.04.1.17__insert_user_values.sql failed
---------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ОШИБКА: INSERT или UPDATE в таблице "permissions" нарушает ограничение внешнего ключа "permissions_role_id_fkey"
  Подробности: Ключ (role_id)=(1) отсутствует в таблице "roles".
Location   : usersDB/V2023.05.04.1.17__insert_user_values.sql (D:\Java Projects\NewAfisha\Afisha\user-service\target\classes\usersDB\V2023.05.04.1.17__insert_user_values.sql)
Line       : 5
Statement  : INSERT INTO permissions (name, role_id) values
('AUTHORIZED_ACTIONS', 1),
('AUTHORIZED_ACTIONS', 2),
('ADMIN_ACTIONS', 1)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:275)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:69)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:58)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:377)
	... 40 more
Caused by: org.postgresql.util.PSQLException: ОШИБКА: INSERT или UPDATE в таблице "permissions" нарушает ограничение внешнего ключа "permissions_role_id_fkey"
  Подробности: Ключ (role_id)=(1) отсутствует в таблице "roles".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 46 more
2023-05-06 14:37:11 INFO  UserMicroserviceMain:55 - Starting UserMicroserviceMain using Java 17.0.1 on DESKTOP-RGGTMQN with PID 15564 (D:\Java Projects\NewAfisha\Afisha\user-service\target\classes started by desertfox in D:\Java Projects\NewAfisha\Afisha)
2023-05-06 14:37:11 INFO  UserMicroserviceMain:634 - No active profile set, falling back to 1 default profile: "default"
2023-05-06 14:37:11 INFO  ChangeableUrls:255 - The Class-Path manifest attribute in C:\Users\desertfox\.m2\repository\io\grpc\grpc-netty-shaded\1.30.0\grpc-netty-shaded-1.30.0.jar referenced one or more files that do not exist: file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-core-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-api-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/gson-2.8.6.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/annotations-4.1.1.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/animal-sniffer-annotations-1.18.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/error_prone_annotations-2.3.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/guava-28.2-android.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/perfmark-api-0.19.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/jsr305-3.0.2.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-context-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/failureaccess-1.0.1.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/checker-compat-qual-2.5.5.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/j2objc-annotations-1.3.jar
2023-05-06 14:37:11 INFO  DevToolsPropertyDefaultsPostProcessor:255 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-06 14:37:11 INFO  DevToolsPropertyDefaultsPostProcessor:255 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-06 14:37:12 INFO  RepositoryConfigurationDelegate:132 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-05-06 14:37:12 INFO  RepositoryConfigurationDelegate:201 - Finished Spring Data repository scanning in 24 ms. Found 0 JPA repository interfaces.
2023-05-06 14:37:13 INFO  TomcatWebServer:108 - Tomcat initialized with port(s): 8080 (http)
2023-05-06 14:37:13 INFO  StandardService:173 - Starting service [Tomcat]
2023-05-06 14:37:13 INFO  StandardEngine:173 - Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-06 14:37:13 INFO  [/]:173 - Initializing Spring embedded WebApplicationContext
2023-05-06 14:37:13 INFO  ServletWebServerApplicationContext:292 - Root WebApplicationContext: initialization completed in 2213 ms
2023-05-06 14:37:13 INFO  VersionPrinter:37 - Flyway Community Edition 8.5.13 by Redgate
2023-05-06 14:37:13 INFO  VersionPrinter:37 - See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-05-06 14:37:13 INFO  VersionPrinter:37 - 
2023-05-06 14:37:13 INFO  HikariDataSource:110 - HikariPool-1 - Starting...
2023-05-06 14:37:14 INFO  HikariDataSource:123 - HikariPool-1 - Start completed.
2023-05-06 14:37:14 INFO  BaseDatabaseType:37 - Database: jdbc:postgresql://localhost:5432/afishaDB (PostgreSQL 15.0)
2023-05-06 14:37:14 WARN  Database:41 - Flyway upgrade recommended: PostgreSQL 15.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2023-05-06 14:37:14 INFO  DbValidate:37 - Successfully validated 2 migrations (execution time 00:00.031s)
2023-05-06 14:37:14 INFO  DbMigrate:37 - Current version of schema "public": 2023.04.05.11.12
2023-05-06 14:37:14 INFO  DbMigrate:37 - Migrating schema "public" to version "2023.05.04.1.17 - insert user values"
2023-05-06 14:37:14 ERROR DbMigrate:45 - Migration of schema "public" to version "2023.05.04.1.17 - insert user values" failed! Changes successfully rolled back.
2023-05-06 14:37:14 WARN  AnnotationConfigServletWebServerApplicationContext:591 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V2023.05.04.1.17__insert_user_values.sql failed
---------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ОШИБКА: INSERT или UPDATE в таблице "permissions" нарушает ограничение внешнего ключа "permissions_role_id_fkey"
  Подробности: Ключ (role_id)=(1) отсутствует в таблице "roles".
Location   : usersDB/V2023.05.04.1.17__insert_user_values.sql (D:\Java Projects\NewAfisha\Afisha\user-service\target\classes\usersDB\V2023.05.04.1.17__insert_user_values.sql)
Line       : 5
Statement  : INSERT INTO permissions (name, role_id) values
('AUTHORIZED_ACTIONS', 1),
('AUTHORIZED_ACTIONS', 2),
('ADMIN_ACTIONS', 1)

2023-05-06 14:37:14 INFO  HikariDataSource:350 - HikariPool-1 - Shutdown initiated...
2023-05-06 14:37:14 INFO  HikariDataSource:352 - HikariPool-1 - Shutdown completed.
2023-05-06 14:37:14 INFO  StandardService:173 - Stopping service [Tomcat]
2023-05-06 14:37:14 INFO  ConditionEvaluationReportLoggingListener:136 - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-05-06 14:37:14 ERROR SpringApplication:824 - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Invocation of init method failed; nested exception is org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V2023.05.04.1.17__insert_user_values.sql failed
---------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ОШИБКА: INSERT или UPDATE в таблице "permissions" нарушает ограничение внешнего ключа "permissions_role_id_fkey"
  Подробности: Ключ (role_id)=(1) отсутствует в таблице "roles".
Location   : usersDB/V2023.05.04.1.17__insert_user_values.sql (D:\Java Projects\NewAfisha\Afisha\user-service\target\classes\usersDB\V2023.05.04.1.17__insert_user_values.sql)
Line       : 5
Statement  : INSERT INTO permissions (name, role_id) values
('AUTHORIZED_ACTIONS', 1),
('AUTHORIZED_ACTIONS', 2),
('ADMIN_ACTIONS', 1)

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at ru.it.lab.UserMicroserviceMain.main(UserMicroserviceMain.java:14)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V2023.05.04.1.17__insert_user_values.sql failed
---------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ОШИБКА: INSERT или UPDATE в таблице "permissions" нарушает ограничение внешнего ключа "permissions_role_id_fkey"
  Подробности: Ключ (role_id)=(1) отсутствует в таблице "roles".
Location   : usersDB/V2023.05.04.1.17__insert_user_values.sql (D:\Java Projects\NewAfisha\Afisha\user-service\target\classes\usersDB\V2023.05.04.1.17__insert_user_values.sql)
Line       : 5
Statement  : INSERT INTO permissions (name, role_id) values
('AUTHORIZED_ACTIONS', 1),
('AUTHORIZED_ACTIONS', 2),
('ADMIN_ACTIONS', 1)

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:385)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:275)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:274)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:247)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:141)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:69)
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:99)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:139)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:141)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:98)
	at org.flywaydb.core.Flyway$1.execute(Flyway.java:172)
	at org.flywaydb.core.Flyway$1.execute(Flyway.java:124)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:205)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:124)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 23 more
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V2023.05.04.1.17__insert_user_values.sql failed
---------------------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ОШИБКА: INSERT или UPDATE в таблице "permissions" нарушает ограничение внешнего ключа "permissions_role_id_fkey"
  Подробности: Ключ (role_id)=(1) отсутствует в таблице "roles".
Location   : usersDB/V2023.05.04.1.17__insert_user_values.sql (D:\Java Projects\NewAfisha\Afisha\user-service\target\classes\usersDB\V2023.05.04.1.17__insert_user_values.sql)
Line       : 5
Statement  : INSERT INTO permissions (name, role_id) values
('AUTHORIZED_ACTIONS', 1),
('AUTHORIZED_ACTIONS', 2),
('ADMIN_ACTIONS', 1)

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:275)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:69)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:58)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:57)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:377)
	... 40 more
Caused by: org.postgresql.util.PSQLException: ОШИБКА: INSERT или UPDATE в таблице "permissions" нарушает ограничение внешнего ключа "permissions_role_id_fkey"
  Подробности: Ключ (role_id)=(1) отсутствует в таблице "roles".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210)
	... 46 more
2023-05-06 14:40:06 INFO  UserMicroserviceMain:55 - Starting UserMicroserviceMain using Java 17.0.1 on DESKTOP-RGGTMQN with PID 17636 (D:\Java Projects\NewAfisha\Afisha\user-service\target\classes started by desertfox in D:\Java Projects\NewAfisha\Afisha)
2023-05-06 14:40:06 INFO  UserMicroserviceMain:634 - No active profile set, falling back to 1 default profile: "default"
2023-05-06 14:40:07 INFO  ChangeableUrls:255 - The Class-Path manifest attribute in C:\Users\desertfox\.m2\repository\io\grpc\grpc-netty-shaded\1.30.0\grpc-netty-shaded-1.30.0.jar referenced one or more files that do not exist: file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-core-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-api-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/gson-2.8.6.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/annotations-4.1.1.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/animal-sniffer-annotations-1.18.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/error_prone_annotations-2.3.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/guava-28.2-android.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/perfmark-api-0.19.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/jsr305-3.0.2.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-context-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/failureaccess-1.0.1.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/checker-compat-qual-2.5.5.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/j2objc-annotations-1.3.jar
2023-05-06 14:40:07 INFO  DevToolsPropertyDefaultsPostProcessor:255 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-06 14:40:07 INFO  DevToolsPropertyDefaultsPostProcessor:255 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-06 14:40:07 INFO  RepositoryConfigurationDelegate:132 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-05-06 14:40:07 INFO  RepositoryConfigurationDelegate:201 - Finished Spring Data repository scanning in 23 ms. Found 0 JPA repository interfaces.
2023-05-06 14:40:08 INFO  TomcatWebServer:108 - Tomcat initialized with port(s): 8080 (http)
2023-05-06 14:40:08 INFO  StandardService:173 - Starting service [Tomcat]
2023-05-06 14:40:08 INFO  StandardEngine:173 - Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-06 14:40:09 INFO  [/]:173 - Initializing Spring embedded WebApplicationContext
2023-05-06 14:40:09 INFO  ServletWebServerApplicationContext:292 - Root WebApplicationContext: initialization completed in 2025 ms
2023-05-06 14:40:09 INFO  VersionPrinter:37 - Flyway Community Edition 8.5.13 by Redgate
2023-05-06 14:40:09 INFO  VersionPrinter:37 - See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-05-06 14:40:09 INFO  VersionPrinter:37 - 
2023-05-06 14:40:09 INFO  HikariDataSource:110 - HikariPool-1 - Starting...
2023-05-06 14:40:09 INFO  HikariDataSource:123 - HikariPool-1 - Start completed.
2023-05-06 14:40:09 INFO  BaseDatabaseType:37 - Database: jdbc:postgresql://localhost:5432/afishaDB (PostgreSQL 15.0)
2023-05-06 14:40:09 WARN  Database:41 - Flyway upgrade recommended: PostgreSQL 15.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2023-05-06 14:40:09 INFO  DbClean:37 - Successfully dropped pre-schema database level objects (execution time 00:00.000s)
2023-05-06 14:40:09 INFO  DbClean:37 - Successfully cleaned schema "public" (execution time 00:00.060s)
2023-05-06 14:40:09 INFO  DbClean:37 - Successfully cleaned schema "public" (execution time 00:00.010s)
2023-05-06 14:40:09 INFO  DbClean:37 - Successfully dropped post-schema database level objects (execution time 00:00.000s)
2023-05-06 14:40:09 INFO  JdbcTableSchemaHistory:37 - Creating Schema History table "public"."flyway_schema_history" ...
2023-05-06 14:40:09 INFO  DbMigrate:37 - Current version of schema "public": << Empty Schema >>
2023-05-06 14:40:09 INFO  DbMigrate:37 - Migrating schema "public" to version "2023.04.05.11.12 - add user tables"
2023-05-06 14:40:09 INFO  DbMigrate:37 - Migrating schema "public" to version "2023.05.04.1.17 - insert user values"
2023-05-06 14:40:09 INFO  DbMigrate:37 - Successfully applied 2 migrations to schema "public", now at version v2023.05.04.1.17 (execution time 00:00.066s)
2023-05-06 14:40:10 INFO  LogHelper:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-05-06 14:40:10 INFO  Version:44 - HHH000412: Hibernate ORM core version 5.6.9.Final
2023-05-06 14:40:10 INFO  Version:56 - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-05-06 14:40:10 INFO  Dialect:175 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2023-05-06 14:40:11 ERROR LocalContainerEntityManagerFactoryBean:426 - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [date_of_birth] in table [users]
2023-05-06 14:40:11 WARN  AnnotationConfigServletWebServerApplicationContext:591 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [date_of_birth] in table [users]
2023-05-06 14:40:11 INFO  HikariDataSource:350 - HikariPool-1 - Shutdown initiated...
2023-05-06 14:40:11 INFO  HikariDataSource:352 - HikariPool-1 - Shutdown completed.
2023-05-06 14:40:11 INFO  StandardService:173 - Stopping service [Tomcat]
2023-05-06 14:40:11 INFO  ConditionEvaluationReportLoggingListener:136 - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-05-06 14:40:11 ERROR SpringApplication:824 - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [date_of_birth] in table [users]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at ru.it.lab.UserMicroserviceMain.main(UserMicroserviceMain.java:14)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [date_of_birth] in table [users]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 21 more
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [date_of_birth] in table [users]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:144)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:97)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:76)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:204)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 25 more
2023-05-06 14:42:16 INFO  UserMicroserviceMain:55 - Starting UserMicroserviceMain using Java 17.0.1 on DESKTOP-RGGTMQN with PID 20400 (D:\Java Projects\NewAfisha\Afisha\user-service\target\classes started by desertfox in D:\Java Projects\NewAfisha\Afisha)
2023-05-06 14:42:16 INFO  UserMicroserviceMain:634 - No active profile set, falling back to 1 default profile: "default"
2023-05-06 14:42:16 INFO  ChangeableUrls:255 - The Class-Path manifest attribute in C:\Users\desertfox\.m2\repository\io\grpc\grpc-netty-shaded\1.30.0\grpc-netty-shaded-1.30.0.jar referenced one or more files that do not exist: file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-core-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-api-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/gson-2.8.6.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/annotations-4.1.1.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/animal-sniffer-annotations-1.18.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/error_prone_annotations-2.3.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/guava-28.2-android.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/perfmark-api-0.19.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/jsr305-3.0.2.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-context-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/failureaccess-1.0.1.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/checker-compat-qual-2.5.5.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/j2objc-annotations-1.3.jar
2023-05-06 14:42:16 INFO  DevToolsPropertyDefaultsPostProcessor:255 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-06 14:42:16 INFO  DevToolsPropertyDefaultsPostProcessor:255 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-06 14:42:17 INFO  RepositoryConfigurationDelegate:132 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-05-06 14:42:17 INFO  RepositoryConfigurationDelegate:201 - Finished Spring Data repository scanning in 22 ms. Found 0 JPA repository interfaces.
2023-05-06 14:42:17 INFO  TomcatWebServer:108 - Tomcat initialized with port(s): 8080 (http)
2023-05-06 14:42:17 INFO  StandardService:173 - Starting service [Tomcat]
2023-05-06 14:42:17 INFO  StandardEngine:173 - Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-06 14:42:18 INFO  [/]:173 - Initializing Spring embedded WebApplicationContext
2023-05-06 14:42:18 INFO  ServletWebServerApplicationContext:292 - Root WebApplicationContext: initialization completed in 1773 ms
2023-05-06 14:42:18 INFO  VersionPrinter:37 - Flyway Community Edition 8.5.13 by Redgate
2023-05-06 14:42:18 INFO  VersionPrinter:37 - See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-05-06 14:42:18 INFO  VersionPrinter:37 - 
2023-05-06 14:42:18 INFO  HikariDataSource:110 - HikariPool-1 - Starting...
2023-05-06 14:42:18 INFO  HikariDataSource:123 - HikariPool-1 - Start completed.
2023-05-06 14:42:18 INFO  BaseDatabaseType:37 - Database: jdbc:postgresql://localhost:5432/afishaDB (PostgreSQL 15.0)
2023-05-06 14:42:18 WARN  Database:41 - Flyway upgrade recommended: PostgreSQL 15.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2023-05-06 14:42:18 INFO  DbClean:37 - Successfully dropped pre-schema database level objects (execution time 00:00.000s)
2023-05-06 14:42:18 INFO  DbClean:37 - Successfully cleaned schema "public" (execution time 00:00.044s)
2023-05-06 14:42:18 INFO  DbClean:37 - Successfully cleaned schema "public" (execution time 00:00.007s)
2023-05-06 14:42:18 INFO  DbClean:37 - Successfully dropped post-schema database level objects (execution time 00:00.000s)
2023-05-06 14:42:18 INFO  JdbcTableSchemaHistory:37 - Creating Schema History table "public"."flyway_schema_history" ...
2023-05-06 14:42:18 INFO  DbMigrate:37 - Current version of schema "public": << Empty Schema >>
2023-05-06 14:42:18 INFO  DbMigrate:37 - Migrating schema "public" to version "2023.04.05.11.12 - add user tables"
2023-05-06 14:42:18 INFO  DbMigrate:37 - Migrating schema "public" to version "2023.05.04.1.17 - insert user values"
2023-05-06 14:42:18 INFO  DbMigrate:37 - Successfully applied 2 migrations to schema "public", now at version v2023.05.04.1.17 (execution time 00:00.059s)
2023-05-06 14:42:18 INFO  LogHelper:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-05-06 14:42:18 INFO  Version:44 - HHH000412: Hibernate ORM core version 5.6.9.Final
2023-05-06 14:42:19 INFO  Version:56 - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-05-06 14:42:19 INFO  Dialect:175 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2023-05-06 14:42:19 ERROR LocalContainerEntityManagerFactoryBean:426 - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [date_of_birth] in table [users]; found [date (Types#DATE)], but expecting [timestamp (Types#TIMESTAMP)]
2023-05-06 14:42:19 WARN  AnnotationConfigServletWebServerApplicationContext:591 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [date_of_birth] in table [users]; found [date (Types#DATE)], but expecting [timestamp (Types#TIMESTAMP)]
2023-05-06 14:42:19 INFO  HikariDataSource:350 - HikariPool-1 - Shutdown initiated...
2023-05-06 14:42:19 INFO  HikariDataSource:352 - HikariPool-1 - Shutdown completed.
2023-05-06 14:42:20 INFO  StandardService:173 - Stopping service [Tomcat]
2023-05-06 14:42:20 INFO  ConditionEvaluationReportLoggingListener:136 - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-05-06 14:42:20 ERROR SpringApplication:824 - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [date_of_birth] in table [users]; found [date (Types#DATE)], but expecting [timestamp (Types#TIMESTAMP)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at ru.it.lab.UserMicroserviceMain.main(UserMicroserviceMain.java:14)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [date_of_birth] in table [users]; found [date (Types#DATE)], but expecting [timestamp (Types#TIMESTAMP)]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 21 more
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [date_of_birth] in table [users]; found [date (Types#DATE)], but expecting [timestamp (Types#TIMESTAMP)]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateColumnType(AbstractSchemaValidator.java:167)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:151)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:97)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:76)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:204)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 25 more
2023-05-06 14:43:13 INFO  UserMicroserviceMain:55 - Starting UserMicroserviceMain using Java 17.0.1 on DESKTOP-RGGTMQN with PID 19604 (D:\Java Projects\NewAfisha\Afisha\user-service\target\classes started by desertfox in D:\Java Projects\NewAfisha\Afisha)
2023-05-06 14:43:13 INFO  UserMicroserviceMain:634 - No active profile set, falling back to 1 default profile: "default"
2023-05-06 14:43:13 INFO  ChangeableUrls:255 - The Class-Path manifest attribute in C:\Users\desertfox\.m2\repository\io\grpc\grpc-netty-shaded\1.30.0\grpc-netty-shaded-1.30.0.jar referenced one or more files that do not exist: file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-core-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-api-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/gson-2.8.6.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/annotations-4.1.1.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/animal-sniffer-annotations-1.18.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/error_prone_annotations-2.3.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/guava-28.2-android.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/perfmark-api-0.19.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/jsr305-3.0.2.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-context-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/failureaccess-1.0.1.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/checker-compat-qual-2.5.5.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/j2objc-annotations-1.3.jar
2023-05-06 14:43:13 INFO  DevToolsPropertyDefaultsPostProcessor:255 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-06 14:43:13 INFO  DevToolsPropertyDefaultsPostProcessor:255 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-06 14:43:14 INFO  RepositoryConfigurationDelegate:132 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-05-06 14:43:14 INFO  RepositoryConfigurationDelegate:201 - Finished Spring Data repository scanning in 22 ms. Found 0 JPA repository interfaces.
2023-05-06 14:43:15 INFO  TomcatWebServer:108 - Tomcat initialized with port(s): 8080 (http)
2023-05-06 14:43:15 INFO  StandardService:173 - Starting service [Tomcat]
2023-05-06 14:43:15 INFO  StandardEngine:173 - Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-06 14:43:15 INFO  [/]:173 - Initializing Spring embedded WebApplicationContext
2023-05-06 14:43:15 INFO  ServletWebServerApplicationContext:292 - Root WebApplicationContext: initialization completed in 1672 ms
2023-05-06 14:43:15 INFO  VersionPrinter:37 - Flyway Community Edition 8.5.13 by Redgate
2023-05-06 14:43:15 INFO  VersionPrinter:37 - See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-05-06 14:43:15 INFO  VersionPrinter:37 - 
2023-05-06 14:43:15 INFO  HikariDataSource:110 - HikariPool-1 - Starting...
2023-05-06 14:43:15 INFO  HikariDataSource:123 - HikariPool-1 - Start completed.
2023-05-06 14:43:15 INFO  BaseDatabaseType:37 - Database: jdbc:postgresql://localhost:5432/afishaDB (PostgreSQL 15.0)
2023-05-06 14:43:15 WARN  Database:41 - Flyway upgrade recommended: PostgreSQL 15.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2023-05-06 14:43:15 INFO  DbClean:37 - Successfully dropped pre-schema database level objects (execution time 00:00.000s)
2023-05-06 14:43:15 INFO  DbClean:37 - Successfully cleaned schema "public" (execution time 00:00.039s)
2023-05-06 14:43:15 INFO  DbClean:37 - Successfully cleaned schema "public" (execution time 00:00.007s)
2023-05-06 14:43:15 INFO  DbClean:37 - Successfully dropped post-schema database level objects (execution time 00:00.000s)
2023-05-06 14:43:15 INFO  JdbcTableSchemaHistory:37 - Creating Schema History table "public"."flyway_schema_history" ...
2023-05-06 14:43:15 INFO  DbMigrate:37 - Current version of schema "public": << Empty Schema >>
2023-05-06 14:43:15 INFO  DbMigrate:37 - Migrating schema "public" to version "2023.04.05.11.12 - add user tables"
2023-05-06 14:43:15 INFO  DbMigrate:37 - Migrating schema "public" to version "2023.05.04.1.17 - insert user values"
2023-05-06 14:43:15 INFO  DbMigrate:37 - Successfully applied 2 migrations to schema "public", now at version v2023.05.04.1.17 (execution time 00:00.070s)
2023-05-06 14:43:15 INFO  LogHelper:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-05-06 14:43:16 INFO  Version:44 - HHH000412: Hibernate ORM core version 5.6.9.Final
2023-05-06 14:43:16 INFO  Version:56 - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-05-06 14:43:16 INFO  Dialect:175 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2023-05-06 14:43:17 INFO  JtaPlatformInitiator:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-05-06 14:43:17 INFO  LocalContainerEntityManagerFactoryBean:437 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-05-06 14:43:17 WARN  JpaBaseConfiguration$JpaWebConfiguration:219 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-05-06 14:43:17 INFO  OptionalLiveReloadServer:58 - LiveReload server is running on port 35729
2023-05-06 14:43:17 INFO  TomcatWebServer:220 - Tomcat started on port(s): 8080 (http) with context path ''
2023-05-06 14:43:18 INFO  AbstractGrpcServerFactory:115 - Registered gRPC service: ru.it.lab.UserService, bean: userServerService, class: ru.it.lab.service.UserServerService
2023-05-06 14:43:18 INFO  GrpcServerLifecycle:91 - gRPC Server started, listening on address: *, port: 16608
2023-05-06 14:43:18 INFO  UserMicroserviceMain:61 - Started UserMicroserviceMain in 5.352 seconds (JVM running for 5.913)
2023-05-06 14:43:53 INFO  GrpcServerLifecycle:116 - gRPC server shutdown.
2023-05-06 14:43:53 INFO  LocalContainerEntityManagerFactoryBean:651 - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-05-06 14:43:53 INFO  HikariDataSource:350 - HikariPool-1 - Shutdown initiated...
2023-05-06 14:43:53 INFO  HikariDataSource:352 - HikariPool-1 - Shutdown completed.
2023-05-06 15:50:06 INFO  UserMicroserviceMain:55 - Starting UserMicroserviceMain using Java 17.0.1 on DESKTOP-RGGTMQN with PID 18992 (D:\Java Projects\NewAfisha\Afisha\user-service\target\classes started by desertfox in D:\Java Projects\NewAfisha\Afisha)
2023-05-06 15:50:06 INFO  UserMicroserviceMain:634 - No active profile set, falling back to 1 default profile: "default"
2023-05-06 15:50:06 INFO  ChangeableUrls:255 - The Class-Path manifest attribute in C:\Users\desertfox\.m2\repository\io\grpc\grpc-netty-shaded\1.30.0\grpc-netty-shaded-1.30.0.jar referenced one or more files that do not exist: file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-core-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-api-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/gson-2.8.6.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/annotations-4.1.1.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/animal-sniffer-annotations-1.18.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/error_prone_annotations-2.3.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/guava-28.2-android.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/perfmark-api-0.19.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/jsr305-3.0.2.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-context-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/failureaccess-1.0.1.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/checker-compat-qual-2.5.5.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/j2objc-annotations-1.3.jar
2023-05-06 15:50:06 INFO  DevToolsPropertyDefaultsPostProcessor:255 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-06 15:50:06 INFO  DevToolsPropertyDefaultsPostProcessor:255 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-06 15:50:09 INFO  RepositoryConfigurationDelegate:132 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-05-06 15:50:09 INFO  RepositoryConfigurationDelegate:201 - Finished Spring Data repository scanning in 30 ms. Found 0 JPA repository interfaces.
2023-05-06 15:50:10 INFO  TomcatWebServer:108 - Tomcat initialized with port(s): 8080 (http)
2023-05-06 15:50:10 INFO  StandardService:173 - Starting service [Tomcat]
2023-05-06 15:50:10 INFO  StandardEngine:173 - Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-06 15:50:11 INFO  [/]:173 - Initializing Spring embedded WebApplicationContext
2023-05-06 15:50:11 INFO  ServletWebServerApplicationContext:292 - Root WebApplicationContext: initialization completed in 4544 ms
2023-05-06 15:50:11 INFO  VersionPrinter:37 - Flyway Community Edition 8.5.13 by Redgate
2023-05-06 15:50:11 INFO  VersionPrinter:37 - See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-05-06 15:50:11 INFO  VersionPrinter:37 - 
2023-05-06 15:50:11 INFO  HikariDataSource:110 - HikariPool-1 - Starting...
2023-05-06 15:50:11 INFO  HikariDataSource:123 - HikariPool-1 - Start completed.
2023-05-06 15:50:11 INFO  BaseDatabaseType:37 - Database: jdbc:postgresql://localhost:5432/afishaDB (PostgreSQL 15.0)
2023-05-06 15:50:11 WARN  Database:41 - Flyway upgrade recommended: PostgreSQL 15.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2023-05-06 15:50:12 INFO  DbClean:37 - Successfully dropped pre-schema database level objects (execution time 00:00.001s)
2023-05-06 15:50:12 INFO  DbClean:37 - Successfully cleaned schema "public" (execution time 00:00.123s)
2023-05-06 15:50:12 INFO  DbClean:37 - Successfully cleaned schema "public" (execution time 00:00.012s)
2023-05-06 15:50:12 INFO  DbClean:37 - Successfully dropped post-schema database level objects (execution time 00:00.000s)
2023-05-06 15:50:12 INFO  JdbcTableSchemaHistory:37 - Creating Schema History table "public"."flyway_schema_history" ...
2023-05-06 15:50:12 INFO  DbMigrate:37 - Current version of schema "public": << Empty Schema >>
2023-05-06 15:50:12 INFO  DbMigrate:37 - Migrating schema "public" to version "2023.04.05.11.12 - add user tables"
2023-05-06 15:50:12 INFO  DbMigrate:37 - Migrating schema "public" to version "2023.05.04.1.17 - insert user values"
2023-05-06 15:50:12 INFO  DbMigrate:37 - Successfully applied 2 migrations to schema "public", now at version v2023.05.04.1.17 (execution time 00:00.130s)
2023-05-06 15:50:12 INFO  LogHelper:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-05-06 15:50:13 INFO  Version:44 - HHH000412: Hibernate ORM core version 5.6.9.Final
2023-05-06 15:50:13 INFO  Version:56 - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-05-06 15:50:14 INFO  Dialect:175 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2023-05-06 15:50:15 INFO  JtaPlatformInitiator:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-05-06 15:50:15 INFO  LocalContainerEntityManagerFactoryBean:437 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-05-06 15:50:15 WARN  AnnotationConfigServletWebServerApplicationContext:591 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mailService': Unsatisfied dependency expressed through field 'velocityEngine'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.apache.velocity.app.VelocityEngine' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2023-05-06 15:50:15 INFO  LocalContainerEntityManagerFactoryBean:651 - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-05-06 15:50:16 INFO  HikariDataSource:350 - HikariPool-1 - Shutdown initiated...
2023-05-06 15:50:16 INFO  HikariDataSource:352 - HikariPool-1 - Shutdown completed.
2023-05-06 15:50:16 INFO  StandardService:173 - Stopping service [Tomcat]
2023-05-06 15:50:16 INFO  ConditionEvaluationReportLoggingListener:136 - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-05-06 15:50:16 ERROR LoggingFailureAnalysisReporter:40 - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field velocityEngine in ru.it.lab.service.MailService required a bean of type 'org.apache.velocity.app.VelocityEngine' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'org.apache.velocity.app.VelocityEngine' in your configuration.

2023-05-06 15:52:09 INFO  UserMicroserviceMain:55 - Starting UserMicroserviceMain using Java 17.0.1 on DESKTOP-RGGTMQN with PID 12772 (D:\Java Projects\NewAfisha\Afisha\user-service\target\classes started by desertfox in D:\Java Projects\NewAfisha\Afisha)
2023-05-06 15:52:09 INFO  UserMicroserviceMain:634 - No active profile set, falling back to 1 default profile: "default"
2023-05-06 15:52:09 INFO  ChangeableUrls:255 - The Class-Path manifest attribute in C:\Users\desertfox\.m2\repository\io\grpc\grpc-netty-shaded\1.30.0\grpc-netty-shaded-1.30.0.jar referenced one or more files that do not exist: file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-core-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-api-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/gson-2.8.6.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/annotations-4.1.1.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/animal-sniffer-annotations-1.18.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/error_prone_annotations-2.3.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/guava-28.2-android.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/perfmark-api-0.19.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/jsr305-3.0.2.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-context-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/failureaccess-1.0.1.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/checker-compat-qual-2.5.5.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/j2objc-annotations-1.3.jar
2023-05-06 15:52:09 INFO  DevToolsPropertyDefaultsPostProcessor:255 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-06 15:52:09 INFO  DevToolsPropertyDefaultsPostProcessor:255 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-06 15:52:10 INFO  RepositoryConfigurationDelegate:132 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-05-06 15:52:10 INFO  RepositoryConfigurationDelegate:201 - Finished Spring Data repository scanning in 25 ms. Found 0 JPA repository interfaces.
2023-05-06 15:52:11 INFO  TomcatWebServer:108 - Tomcat initialized with port(s): 8080 (http)
2023-05-06 15:52:11 INFO  StandardService:173 - Starting service [Tomcat]
2023-05-06 15:52:11 INFO  StandardEngine:173 - Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-06 15:52:11 INFO  [/]:173 - Initializing Spring embedded WebApplicationContext
2023-05-06 15:52:11 INFO  ServletWebServerApplicationContext:292 - Root WebApplicationContext: initialization completed in 1840 ms
2023-05-06 15:52:11 INFO  VersionPrinter:37 - Flyway Community Edition 8.5.13 by Redgate
2023-05-06 15:52:11 INFO  VersionPrinter:37 - See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-05-06 15:52:11 INFO  VersionPrinter:37 - 
2023-05-06 15:52:11 INFO  HikariDataSource:110 - HikariPool-1 - Starting...
2023-05-06 15:52:12 INFO  HikariDataSource:123 - HikariPool-1 - Start completed.
2023-05-06 15:52:12 INFO  BaseDatabaseType:37 - Database: jdbc:postgresql://localhost:5432/afishaDB (PostgreSQL 15.0)
2023-05-06 15:52:12 WARN  Database:41 - Flyway upgrade recommended: PostgreSQL 15.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2023-05-06 15:52:12 INFO  DbValidate:37 - Successfully validated 2 migrations (execution time 00:00.028s)
2023-05-06 15:52:12 INFO  DbMigrate:37 - Current version of schema "public": 2023.05.04.1.17
2023-05-06 15:52:12 INFO  DbMigrate:37 - Schema "public" is up to date. No migration necessary.
2023-05-06 15:52:12 INFO  LogHelper:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-05-06 15:52:12 INFO  Version:44 - HHH000412: Hibernate ORM core version 5.6.9.Final
2023-05-06 15:52:12 INFO  Version:56 - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-05-06 15:52:12 INFO  Dialect:175 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2023-05-06 15:52:13 INFO  JtaPlatformInitiator:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-05-06 15:52:13 INFO  LocalContainerEntityManagerFactoryBean:437 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-05-06 15:52:13 WARN  JpaBaseConfiguration$JpaWebConfiguration:219 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-05-06 15:52:14 INFO  OptionalLiveReloadServer:58 - LiveReload server is running on port 35729
2023-05-06 15:52:14 INFO  TomcatWebServer:220 - Tomcat started on port(s): 8080 (http) with context path ''
2023-05-06 15:52:14 INFO  AbstractGrpcServerFactory:115 - Registered gRPC service: ru.it.lab.UserService, bean: userServerService, class: ru.it.lab.service.UserServerService
2023-05-06 15:52:14 INFO  GrpcServerLifecycle:91 - gRPC Server started, listening on address: *, port: 16608
2023-05-06 15:52:14 INFO  UserMicroserviceMain:61 - Started UserMicroserviceMain in 5.56 seconds (JVM running for 6.154)
2023-05-06 15:54:25 INFO  GrpcServerLifecycle:116 - gRPC server shutdown.
2023-05-06 15:54:25 INFO  LocalContainerEntityManagerFactoryBean:651 - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-05-06 15:54:25 INFO  HikariDataSource:350 - HikariPool-1 - Shutdown initiated...
2023-05-06 15:54:25 INFO  HikariDataSource:352 - HikariPool-1 - Shutdown completed.
2023-05-06 19:10:17 INFO  UserMicroserviceMain:55 - Starting UserMicroserviceMain using Java 17.0.1 on DESKTOP-RGGTMQN with PID 19860 (D:\Java Projects\NewAfisha\Afisha\user-service\target\classes started by desertfox in D:\Java Projects\NewAfisha\Afisha)
2023-05-06 19:10:17 INFO  UserMicroserviceMain:634 - No active profile set, falling back to 1 default profile: "default"
2023-05-06 19:10:17 INFO  ChangeableUrls:255 - The Class-Path manifest attribute in C:\Users\desertfox\.m2\repository\io\grpc\grpc-netty-shaded\1.30.0\grpc-netty-shaded-1.30.0.jar referenced one or more files that do not exist: file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-core-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-api-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/gson-2.8.6.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/annotations-4.1.1.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/animal-sniffer-annotations-1.18.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/error_prone_annotations-2.3.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/guava-28.2-android.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/perfmark-api-0.19.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/jsr305-3.0.2.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-context-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/failureaccess-1.0.1.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/checker-compat-qual-2.5.5.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/j2objc-annotations-1.3.jar
2023-05-06 19:10:17 INFO  DevToolsPropertyDefaultsPostProcessor:255 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-06 19:10:17 INFO  DevToolsPropertyDefaultsPostProcessor:255 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-06 19:10:18 INFO  RepositoryConfigurationDelegate:132 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-05-06 19:10:18 INFO  RepositoryConfigurationDelegate:201 - Finished Spring Data repository scanning in 21 ms. Found 0 JPA repository interfaces.
2023-05-06 19:10:20 INFO  TomcatWebServer:108 - Tomcat initialized with port(s): 8080 (http)
2023-05-06 19:10:20 INFO  StandardService:173 - Starting service [Tomcat]
2023-05-06 19:10:20 INFO  StandardEngine:173 - Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-06 19:10:20 INFO  [/]:173 - Initializing Spring embedded WebApplicationContext
2023-05-06 19:10:20 INFO  ServletWebServerApplicationContext:292 - Root WebApplicationContext: initialization completed in 2549 ms
2023-05-06 19:10:20 INFO  VersionPrinter:37 - Flyway Community Edition 8.5.13 by Redgate
2023-05-06 19:10:20 INFO  VersionPrinter:37 - See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-05-06 19:10:20 INFO  VersionPrinter:37 - 
2023-05-06 19:10:20 INFO  HikariDataSource:110 - HikariPool-1 - Starting...
2023-05-06 19:10:20 INFO  HikariDataSource:123 - HikariPool-1 - Start completed.
2023-05-06 19:10:20 INFO  BaseDatabaseType:37 - Database: jdbc:postgresql://localhost:5432/afishaDB (PostgreSQL 15.0)
2023-05-06 19:10:20 WARN  Database:41 - Flyway upgrade recommended: PostgreSQL 15.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2023-05-06 19:10:20 INFO  DbValidate:37 - Successfully validated 2 migrations (execution time 00:00.048s)
2023-05-06 19:10:20 INFO  DbMigrate:37 - Current version of schema "public": 2023.05.04.1.17
2023-05-06 19:10:20 INFO  DbMigrate:37 - Schema "public" is up to date. No migration necessary.
2023-05-06 19:10:20 INFO  LogHelper:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-05-06 19:10:21 INFO  Version:44 - HHH000412: Hibernate ORM core version 5.6.9.Final
2023-05-06 19:10:21 INFO  Version:56 - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-05-06 19:10:21 INFO  Dialect:175 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2023-05-06 19:10:22 INFO  JtaPlatformInitiator:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-05-06 19:10:22 INFO  LocalContainerEntityManagerFactoryBean:437 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-05-06 19:10:22 WARN  JpaBaseConfiguration$JpaWebConfiguration:219 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-05-06 19:10:23 INFO  OptionalLiveReloadServer:58 - LiveReload server is running on port 35729
2023-05-06 19:10:23 INFO  TomcatWebServer:220 - Tomcat started on port(s): 8080 (http) with context path ''
2023-05-06 19:10:23 INFO  AbstractGrpcServerFactory:115 - Registered gRPC service: ru.it.lab.UserService, bean: userServerService, class: ru.it.lab.service.UserServerService
2023-05-06 19:10:23 INFO  GrpcServerLifecycle:91 - gRPC Server started, listening on address: *, port: 16608
2023-05-06 19:10:23 INFO  UserMicroserviceMain:61 - Started UserMicroserviceMain in 6.577 seconds (JVM running for 7.664)
2023-05-06 19:11:05 INFO  GrpcServerLifecycle:116 - gRPC server shutdown.
2023-05-06 19:11:05 INFO  LocalContainerEntityManagerFactoryBean:651 - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-05-06 19:11:05 INFO  HikariDataSource:350 - HikariPool-1 - Shutdown initiated...
2023-05-06 19:11:05 INFO  HikariDataSource:352 - HikariPool-1 - Shutdown completed.
2023-05-06 19:11:35 INFO  APIGatewayMain:55 - Starting APIGatewayMain using Java 17.0.1 on DESKTOP-RGGTMQN with PID 7552 (D:\Java Projects\NewAfisha\Afisha\api-gateway\target\classes started by desertfox in D:\Java Projects\NewAfisha\Afisha)
2023-05-06 19:11:35 INFO  APIGatewayMain:634 - No active profile set, falling back to 1 default profile: "default"
2023-05-06 19:11:35 INFO  ChangeableUrls:255 - The Class-Path manifest attribute in C:\Users\desertfox\.m2\repository\io\grpc\grpc-netty-shaded\1.30.0\grpc-netty-shaded-1.30.0.jar referenced one or more files that do not exist: file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-core-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-api-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/gson-2.8.6.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/annotations-4.1.1.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/animal-sniffer-annotations-1.18.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/error_prone_annotations-2.3.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/guava-28.2-android.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/perfmark-api-0.19.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/jsr305-3.0.2.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-context-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/failureaccess-1.0.1.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/checker-compat-qual-2.5.5.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/j2objc-annotations-1.3.jar
2023-05-06 19:11:35 INFO  DevToolsPropertyDefaultsPostProcessor:255 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-06 19:11:35 INFO  DevToolsPropertyDefaultsPostProcessor:255 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-06 19:11:37 INFO  TomcatWebServer:108 - Tomcat initialized with port(s): 8090 (http)
2023-05-06 19:11:37 INFO  StandardService:173 - Starting service [Tomcat]
2023-05-06 19:11:37 INFO  StandardEngine:173 - Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-06 19:11:37 INFO  [/]:173 - Initializing Spring embedded WebApplicationContext
2023-05-06 19:11:37 INFO  ServletWebServerApplicationContext:292 - Root WebApplicationContext: initialization completed in 1999 ms
2023-05-06 19:11:38 INFO  DefaultSecurityFilterChain:55 - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@b7b1ea0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f3686d0, org.springframework.security.web.context.SecurityContextPersistenceFilter@5e34a99b, org.springframework.security.web.header.HeaderWriterFilter@fa6523c, org.springframework.security.web.authentication.logout.LogoutFilter@1ceabc2b, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@598f6435, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@47f0e020, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@599b4434, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4d8b382e, org.springframework.security.web.session.SessionManagementFilter@1b34eec, org.springframework.security.web.access.ExceptionTranslationFilter@2dbe389, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@66dbe6d5]
2023-05-06 19:11:39 INFO  OptionalLiveReloadServer:58 - LiveReload server is running on port 35729
2023-05-06 19:11:39 INFO  TomcatWebServer:220 - Tomcat started on port(s): 8090 (http) with context path ''
2023-05-06 19:11:39 INFO  APIGatewayMain:61 - Started APIGatewayMain in 4.238 seconds (JVM running for 4.847)
2023-05-06 19:11:41 INFO  UserMicroserviceMain:55 - Starting UserMicroserviceMain using Java 17.0.1 on DESKTOP-RGGTMQN with PID 5656 (D:\Java Projects\NewAfisha\Afisha\user-service\target\classes started by desertfox in D:\Java Projects\NewAfisha\Afisha)
2023-05-06 19:11:41 INFO  UserMicroserviceMain:634 - No active profile set, falling back to 1 default profile: "default"
2023-05-06 19:11:41 INFO  ChangeableUrls:255 - The Class-Path manifest attribute in C:\Users\desertfox\.m2\repository\io\grpc\grpc-netty-shaded\1.30.0\grpc-netty-shaded-1.30.0.jar referenced one or more files that do not exist: file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-core-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-api-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/gson-2.8.6.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/annotations-4.1.1.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/animal-sniffer-annotations-1.18.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/error_prone_annotations-2.3.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/guava-28.2-android.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/perfmark-api-0.19.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/jsr305-3.0.2.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-context-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/failureaccess-1.0.1.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/checker-compat-qual-2.5.5.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/j2objc-annotations-1.3.jar
2023-05-06 19:11:41 INFO  DevToolsPropertyDefaultsPostProcessor:255 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-06 19:11:41 INFO  DevToolsPropertyDefaultsPostProcessor:255 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-06 19:11:42 INFO  RepositoryConfigurationDelegate:132 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-05-06 19:11:42 INFO  RepositoryConfigurationDelegate:201 - Finished Spring Data repository scanning in 32 ms. Found 0 JPA repository interfaces.
2023-05-06 19:11:42 INFO  TomcatWebServer:108 - Tomcat initialized with port(s): 8080 (http)
2023-05-06 19:11:42 INFO  StandardService:173 - Starting service [Tomcat]
2023-05-06 19:11:42 INFO  StandardEngine:173 - Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-06 19:11:43 INFO  [/]:173 - Initializing Spring embedded WebApplicationContext
2023-05-06 19:11:43 INFO  ServletWebServerApplicationContext:292 - Root WebApplicationContext: initialization completed in 1870 ms
2023-05-06 19:11:43 INFO  VersionPrinter:37 - Flyway Community Edition 8.5.13 by Redgate
2023-05-06 19:11:43 INFO  VersionPrinter:37 - See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-05-06 19:11:43 INFO  VersionPrinter:37 - 
2023-05-06 19:11:43 INFO  HikariDataSource:110 - HikariPool-1 - Starting...
2023-05-06 19:11:43 INFO  HikariDataSource:123 - HikariPool-1 - Start completed.
2023-05-06 19:11:43 INFO  BaseDatabaseType:37 - Database: jdbc:postgresql://localhost:5432/afishaDB (PostgreSQL 15.0)
2023-05-06 19:11:43 WARN  Database:41 - Flyway upgrade recommended: PostgreSQL 15.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2023-05-06 19:11:43 INFO  DbValidate:37 - Successfully validated 2 migrations (execution time 00:00.022s)
2023-05-06 19:11:43 INFO  DbMigrate:37 - Current version of schema "public": 2023.05.04.1.17
2023-05-06 19:11:43 INFO  DbMigrate:37 - Schema "public" is up to date. No migration necessary.
2023-05-06 19:11:43 INFO  LogHelper:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-05-06 19:11:43 INFO  Version:44 - HHH000412: Hibernate ORM core version 5.6.9.Final
2023-05-06 19:11:44 INFO  Version:56 - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-05-06 19:11:44 INFO  Dialect:175 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2023-05-06 19:11:45 INFO  JtaPlatformInitiator:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-05-06 19:11:45 INFO  LocalContainerEntityManagerFactoryBean:437 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-05-06 19:11:45 WARN  JpaBaseConfiguration$JpaWebConfiguration:219 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-05-06 19:11:45 WARN  OptionalLiveReloadServer:61 - Unable to start LiveReload server
2023-05-06 19:11:45 INFO  TomcatWebServer:220 - Tomcat started on port(s): 8080 (http) with context path ''
2023-05-06 19:11:45 INFO  AbstractGrpcServerFactory:115 - Registered gRPC service: ru.it.lab.UserService, bean: userServerService, class: ru.it.lab.service.UserServerService
2023-05-06 19:11:46 INFO  GrpcServerLifecycle:91 - gRPC Server started, listening on address: *, port: 16608
2023-05-06 19:11:46 INFO  UserMicroserviceMain:61 - Started UserMicroserviceMain in 5.422 seconds (JVM running for 6.03)
2023-05-06 19:12:52 INFO  [/]:173 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-06 19:12:52 INFO  DispatcherServlet:525 - Initializing Servlet 'dispatcherServlet'
2023-05-06 19:12:52 INFO  DispatcherServlet:547 - Completed initialization in 1 ms
2023-05-06 19:12:53 ERROR SerializingExecutor:126 - Exception while executing runnable io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed@5e655cb4
java.lang.NullPointerException
	at ru.it.lab.UserProto$Builder.setActivationCode(UserProto.java:1443)
	at ru.it.lab.service.UserServerService.login(UserServerService.java:52)
	at ru.it.lab.UserServiceGrpc$MethodHandlers.invoke(UserServiceGrpc.java:490)
	at io.grpc.stub.ServerCalls$UnaryServerCallHandler$UnaryServerCallListener.onHalfClose(ServerCalls.java:172)
	at io.grpc.PartialForwardingServerCallListener.onHalfClose(PartialForwardingServerCallListener.java:35)
	at io.grpc.ForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:23)
	at io.grpc.ForwardingServerCallListener$SimpleForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:40)
	at io.grpc.Contexts$ContextualizedServerCallListener.onHalfClose(Contexts.java:86)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.halfClosed(ServerCallImpl.java:331)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed.runInContext(ServerImpl.java:820)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-05-06 19:12:54 ERROR [dispatcherServlet]:175 - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is io.grpc.StatusRuntimeException: UNKNOWN] with root cause
io.grpc.StatusRuntimeException: UNKNOWN
	at io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:244)
	at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:225)
	at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:142)
	at ru.it.lab.UserServiceGrpc$UserServiceBlockingStub.login(UserServiceGrpc.java:342)
	at ru.it.lab.controller.UsersController.login(UsersController.java:43)
	at ru.it.lab.controller.UsersController$$FastClassBySpringCGLIB$$6033fa8b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:704)
	at ru.it.lab.controller.UsersController$$EnhancerBySpringCGLIB$$6131d240.login(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-05-06 19:14:05 INFO  APIGatewayMain:55 - Starting APIGatewayMain using Java 17.0.1 on DESKTOP-RGGTMQN with PID 6972 (D:\Java Projects\NewAfisha\Afisha\api-gateway\target\classes started by desertfox in D:\Java Projects\NewAfisha\Afisha)
2023-05-06 19:14:05 INFO  APIGatewayMain:634 - No active profile set, falling back to 1 default profile: "default"
2023-05-06 19:14:05 INFO  ChangeableUrls:255 - The Class-Path manifest attribute in C:\Users\desertfox\.m2\repository\io\grpc\grpc-netty-shaded\1.30.0\grpc-netty-shaded-1.30.0.jar referenced one or more files that do not exist: file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-core-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-api-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/gson-2.8.6.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/annotations-4.1.1.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/animal-sniffer-annotations-1.18.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/error_prone_annotations-2.3.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/guava-28.2-android.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/perfmark-api-0.19.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/jsr305-3.0.2.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-context-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/failureaccess-1.0.1.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/checker-compat-qual-2.5.5.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/j2objc-annotations-1.3.jar
2023-05-06 19:14:05 INFO  DevToolsPropertyDefaultsPostProcessor:255 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-06 19:14:05 INFO  DevToolsPropertyDefaultsPostProcessor:255 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-06 19:14:07 INFO  TomcatWebServer:108 - Tomcat initialized with port(s): 8090 (http)
2023-05-06 19:14:07 INFO  StandardService:173 - Starting service [Tomcat]
2023-05-06 19:14:07 INFO  StandardEngine:173 - Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-06 19:14:07 INFO  [/]:173 - Initializing Spring embedded WebApplicationContext
2023-05-06 19:14:07 INFO  ServletWebServerApplicationContext:292 - Root WebApplicationContext: initialization completed in 2086 ms
2023-05-06 19:14:08 INFO  DefaultSecurityFilterChain:55 - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2a12d91e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4c1f6106, org.springframework.security.web.context.SecurityContextPersistenceFilter@1be91af9, org.springframework.security.web.header.HeaderWriterFilter@2d34780e, org.springframework.security.web.authentication.logout.LogoutFilter@7d7a6f17, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5415198, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@469e8e85, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@370d1dc4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@40687789, org.springframework.security.web.session.SessionManagementFilter@56ce51, org.springframework.security.web.access.ExceptionTranslationFilter@76a66c8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@659907b2]
2023-05-06 19:14:08 INFO  OptionalLiveReloadServer:58 - LiveReload server is running on port 35729
2023-05-06 19:14:08 INFO  TomcatWebServer:220 - Tomcat started on port(s): 8090 (http) with context path ''
2023-05-06 19:14:08 INFO  APIGatewayMain:61 - Started APIGatewayMain in 3.9 seconds (JVM running for 4.831)
2023-05-06 19:14:15 INFO  [/]:173 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-06 19:14:15 INFO  DispatcherServlet:525 - Initializing Servlet 'dispatcherServlet'
2023-05-06 19:14:15 INFO  DispatcherServlet:547 - Completed initialization in 1 ms
2023-05-06 19:14:22 ERROR SerializingExecutor:126 - Exception while executing runnable io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed@bc9baad
java.lang.NullPointerException
	at ru.it.lab.UserProto$Builder.setActivationCode(UserProto.java:1443)
	at ru.it.lab.service.UserServerService.login(UserServerService.java:52)
	at ru.it.lab.UserServiceGrpc$MethodHandlers.invoke(UserServiceGrpc.java:490)
	at io.grpc.stub.ServerCalls$UnaryServerCallHandler$UnaryServerCallListener.onHalfClose(ServerCalls.java:172)
	at io.grpc.PartialForwardingServerCallListener.onHalfClose(PartialForwardingServerCallListener.java:35)
	at io.grpc.ForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:23)
	at io.grpc.ForwardingServerCallListener$SimpleForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:40)
	at io.grpc.Contexts$ContextualizedServerCallListener.onHalfClose(Contexts.java:86)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.halfClosed(ServerCallImpl.java:331)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed.runInContext(ServerImpl.java:820)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-05-06 19:14:31 INFO  GrpcServerLifecycle:116 - gRPC server shutdown.
2023-05-06 19:14:31 ERROR [dispatcherServlet]:175 - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is io.grpc.StatusRuntimeException: UNKNOWN] with root cause
io.grpc.StatusRuntimeException: UNKNOWN
	at io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:244)
	at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:225)
	at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:142)
	at ru.it.lab.UserServiceGrpc$UserServiceBlockingStub.login(UserServiceGrpc.java:342)
	at ru.it.lab.controller.UsersController.login(UsersController.java:43)
	at ru.it.lab.controller.UsersController$$FastClassBySpringCGLIB$$6033fa8b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:704)
	at ru.it.lab.controller.UsersController$$EnhancerBySpringCGLIB$$d9bfdfa1.login(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-05-06 19:14:32 INFO  LocalContainerEntityManagerFactoryBean:651 - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-05-06 19:14:32 INFO  HikariDataSource:350 - HikariPool-1 - Shutdown initiated...
2023-05-06 19:14:32 INFO  HikariDataSource:352 - HikariPool-1 - Shutdown completed.
2023-05-06 19:14:38 INFO  APIGatewayMain:55 - Starting APIGatewayMain using Java 17.0.1 on DESKTOP-RGGTMQN with PID 4772 (D:\Java Projects\NewAfisha\Afisha\api-gateway\target\classes started by desertfox in D:\Java Projects\NewAfisha\Afisha)
2023-05-06 19:14:38 INFO  APIGatewayMain:634 - No active profile set, falling back to 1 default profile: "default"
2023-05-06 19:14:38 INFO  ChangeableUrls:255 - The Class-Path manifest attribute in C:\Users\desertfox\.m2\repository\io\grpc\grpc-netty-shaded\1.30.0\grpc-netty-shaded-1.30.0.jar referenced one or more files that do not exist: file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-core-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-api-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/gson-2.8.6.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/annotations-4.1.1.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/animal-sniffer-annotations-1.18.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/error_prone_annotations-2.3.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/guava-28.2-android.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/perfmark-api-0.19.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/jsr305-3.0.2.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-context-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/failureaccess-1.0.1.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/checker-compat-qual-2.5.5.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/j2objc-annotations-1.3.jar
2023-05-06 19:14:38 INFO  DevToolsPropertyDefaultsPostProcessor:255 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-06 19:14:38 INFO  DevToolsPropertyDefaultsPostProcessor:255 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-06 19:14:40 INFO  TomcatWebServer:108 - Tomcat initialized with port(s): 8090 (http)
2023-05-06 19:14:40 INFO  StandardService:173 - Starting service [Tomcat]
2023-05-06 19:14:40 INFO  StandardEngine:173 - Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-06 19:14:40 INFO  [/]:173 - Initializing Spring embedded WebApplicationContext
2023-05-06 19:14:40 INFO  ServletWebServerApplicationContext:292 - Root WebApplicationContext: initialization completed in 1829 ms
2023-05-06 19:14:41 INFO  DefaultSecurityFilterChain:55 - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@242d55e1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2c9acc9b, org.springframework.security.web.context.SecurityContextPersistenceFilter@3070cdba, org.springframework.security.web.header.HeaderWriterFilter@13e9b5cc, org.springframework.security.web.authentication.logout.LogoutFilter@750e3157, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@18ede5ef, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1893cdf4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a923c8b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@76403dc8, org.springframework.security.web.session.SessionManagementFilter@656e3579, org.springframework.security.web.access.ExceptionTranslationFilter@d0ba557, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7bdbbb35]
2023-05-06 19:14:41 INFO  OptionalLiveReloadServer:58 - LiveReload server is running on port 35729
2023-05-06 19:14:41 INFO  TomcatWebServer:220 - Tomcat started on port(s): 8090 (http) with context path ''
2023-05-06 19:14:41 INFO  APIGatewayMain:61 - Started APIGatewayMain in 3.77 seconds (JVM running for 4.377)
2023-05-06 19:15:03 INFO  UserMicroserviceMain:55 - Starting UserMicroserviceMain using Java 17.0.1 on DESKTOP-RGGTMQN with PID 19296 (D:\Java Projects\NewAfisha\Afisha\user-service\target\classes started by desertfox in D:\Java Projects\NewAfisha\Afisha)
2023-05-06 19:15:03 INFO  UserMicroserviceMain:634 - No active profile set, falling back to 1 default profile: "default"
2023-05-06 19:15:03 INFO  ChangeableUrls:255 - The Class-Path manifest attribute in C:\Users\desertfox\.m2\repository\io\grpc\grpc-netty-shaded\1.30.0\grpc-netty-shaded-1.30.0.jar referenced one or more files that do not exist: file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-core-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-api-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/gson-2.8.6.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/annotations-4.1.1.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/animal-sniffer-annotations-1.18.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/error_prone_annotations-2.3.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/guava-28.2-android.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/perfmark-api-0.19.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/jsr305-3.0.2.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-context-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/failureaccess-1.0.1.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/checker-compat-qual-2.5.5.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/j2objc-annotations-1.3.jar
2023-05-06 19:15:03 INFO  DevToolsPropertyDefaultsPostProcessor:255 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-06 19:15:03 INFO  DevToolsPropertyDefaultsPostProcessor:255 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-06 19:15:04 INFO  RepositoryConfigurationDelegate:132 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-05-06 19:15:04 INFO  RepositoryConfigurationDelegate:201 - Finished Spring Data repository scanning in 22 ms. Found 0 JPA repository interfaces.
2023-05-06 19:15:05 INFO  TomcatWebServer:108 - Tomcat initialized with port(s): 8080 (http)
2023-05-06 19:15:05 INFO  StandardService:173 - Starting service [Tomcat]
2023-05-06 19:15:05 INFO  StandardEngine:173 - Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-06 19:15:05 INFO  [/]:173 - Initializing Spring embedded WebApplicationContext
2023-05-06 19:15:05 INFO  ServletWebServerApplicationContext:292 - Root WebApplicationContext: initialization completed in 2059 ms
2023-05-06 19:15:05 INFO  VersionPrinter:37 - Flyway Community Edition 8.5.13 by Redgate
2023-05-06 19:15:05 INFO  VersionPrinter:37 - See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-05-06 19:15:05 INFO  VersionPrinter:37 - 
2023-05-06 19:15:05 INFO  HikariDataSource:110 - HikariPool-1 - Starting...
2023-05-06 19:15:05 INFO  HikariDataSource:123 - HikariPool-1 - Start completed.
2023-05-06 19:15:05 INFO  BaseDatabaseType:37 - Database: jdbc:postgresql://localhost:5432/afishaDB (PostgreSQL 15.0)
2023-05-06 19:15:05 WARN  Database:41 - Flyway upgrade recommended: PostgreSQL 15.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2023-05-06 19:15:05 INFO  DbValidate:37 - Successfully validated 2 migrations (execution time 00:00.030s)
2023-05-06 19:15:05 INFO  DbMigrate:37 - Current version of schema "public": 2023.05.04.1.17
2023-05-06 19:15:05 INFO  DbMigrate:37 - Schema "public" is up to date. No migration necessary.
2023-05-06 19:15:06 INFO  LogHelper:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-05-06 19:15:06 INFO  Version:44 - HHH000412: Hibernate ORM core version 5.6.9.Final
2023-05-06 19:15:06 INFO  Version:56 - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-05-06 19:15:06 INFO  Dialect:175 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2023-05-06 19:15:07 INFO  JtaPlatformInitiator:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-05-06 19:15:07 INFO  LocalContainerEntityManagerFactoryBean:437 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-05-06 19:15:08 WARN  JpaBaseConfiguration$JpaWebConfiguration:219 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-05-06 19:15:08 WARN  OptionalLiveReloadServer:61 - Unable to start LiveReload server
2023-05-06 19:15:08 INFO  TomcatWebServer:220 - Tomcat started on port(s): 8080 (http) with context path ''
2023-05-06 19:15:08 INFO  AbstractGrpcServerFactory:115 - Registered gRPC service: ru.it.lab.UserService, bean: userServerService, class: ru.it.lab.service.UserServerService
2023-05-06 19:15:08 INFO  GrpcServerLifecycle:91 - gRPC Server started, listening on address: *, port: 16608
2023-05-06 19:15:08 INFO  UserMicroserviceMain:61 - Started UserMicroserviceMain in 6.15 seconds (JVM running for 6.918)
2023-05-06 19:15:17 INFO  [/]:173 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-06 19:15:17 INFO  DispatcherServlet:525 - Initializing Servlet 'dispatcherServlet'
2023-05-06 19:15:17 INFO  DispatcherServlet:547 - Completed initialization in 2 ms
2023-05-06 19:16:23 ERROR SerializingExecutor:126 - Exception while executing runnable io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed@30c12dfa
java.lang.NullPointerException
	at ru.it.lab.UserProto$Builder.setActivationCode(UserProto.java:1443)
	at ru.it.lab.service.UserServerService.login(UserServerService.java:52)
	at ru.it.lab.UserServiceGrpc$MethodHandlers.invoke(UserServiceGrpc.java:490)
	at io.grpc.stub.ServerCalls$UnaryServerCallHandler$UnaryServerCallListener.onHalfClose(ServerCalls.java:172)
	at io.grpc.PartialForwardingServerCallListener.onHalfClose(PartialForwardingServerCallListener.java:35)
	at io.grpc.ForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:23)
	at io.grpc.ForwardingServerCallListener$SimpleForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:40)
	at io.grpc.Contexts$ContextualizedServerCallListener.onHalfClose(Contexts.java:86)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.halfClosed(ServerCallImpl.java:331)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed.runInContext(ServerImpl.java:820)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-05-06 19:16:23 INFO  GrpcServerLifecycle:116 - gRPC server shutdown.
2023-05-06 19:16:23 INFO  LocalContainerEntityManagerFactoryBean:651 - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-05-06 19:16:23 INFO  HikariDataSource:350 - HikariPool-1 - Shutdown initiated...
2023-05-06 19:16:23 INFO  HikariDataSource:352 - HikariPool-1 - Shutdown completed.
2023-05-06 19:22:00 INFO  UserMicroserviceMain:55 - Starting UserMicroserviceMain using Java 17.0.1 on DESKTOP-RGGTMQN with PID 20376 (D:\Java Projects\NewAfisha\Afisha\user-service\target\classes started by desertfox in D:\Java Projects\NewAfisha\Afisha)
2023-05-06 19:22:00 INFO  UserMicroserviceMain:634 - No active profile set, falling back to 1 default profile: "default"
2023-05-06 19:22:00 INFO  ChangeableUrls:255 - The Class-Path manifest attribute in C:\Users\desertfox\.m2\repository\io\grpc\grpc-netty-shaded\1.30.0\grpc-netty-shaded-1.30.0.jar referenced one or more files that do not exist: file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-core-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-api-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/gson-2.8.6.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/annotations-4.1.1.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/animal-sniffer-annotations-1.18.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/error_prone_annotations-2.3.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/guava-28.2-android.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/perfmark-api-0.19.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/jsr305-3.0.2.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-context-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/failureaccess-1.0.1.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/checker-compat-qual-2.5.5.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/j2objc-annotations-1.3.jar
2023-05-06 19:22:00 INFO  DevToolsPropertyDefaultsPostProcessor:255 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-06 19:22:00 INFO  DevToolsPropertyDefaultsPostProcessor:255 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-06 19:22:01 INFO  RepositoryConfigurationDelegate:132 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-05-06 19:22:01 INFO  RepositoryConfigurationDelegate:201 - Finished Spring Data repository scanning in 28 ms. Found 0 JPA repository interfaces.
2023-05-06 19:22:02 INFO  TomcatWebServer:108 - Tomcat initialized with port(s): 8080 (http)
2023-05-06 19:22:02 INFO  StandardService:173 - Starting service [Tomcat]
2023-05-06 19:22:02 INFO  StandardEngine:173 - Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-06 19:22:02 INFO  [/]:173 - Initializing Spring embedded WebApplicationContext
2023-05-06 19:22:02 INFO  ServletWebServerApplicationContext:292 - Root WebApplicationContext: initialization completed in 2352 ms
2023-05-06 19:22:02 INFO  VersionPrinter:37 - Flyway Community Edition 8.5.13 by Redgate
2023-05-06 19:22:02 INFO  VersionPrinter:37 - See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-05-06 19:22:02 INFO  VersionPrinter:37 - 
2023-05-06 19:22:02 INFO  HikariDataSource:110 - HikariPool-1 - Starting...
2023-05-06 19:22:03 INFO  HikariDataSource:123 - HikariPool-1 - Start completed.
2023-05-06 19:22:03 INFO  BaseDatabaseType:37 - Database: jdbc:postgresql://localhost:5432/afishaDB (PostgreSQL 15.0)
2023-05-06 19:22:03 WARN  Database:41 - Flyway upgrade recommended: PostgreSQL 15.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2023-05-06 19:22:03 INFO  DbValidate:37 - Successfully validated 2 migrations (execution time 00:00.027s)
2023-05-06 19:22:03 INFO  DbMigrate:37 - Current version of schema "public": 2023.05.04.1.17
2023-05-06 19:22:03 INFO  DbMigrate:37 - Schema "public" is up to date. No migration necessary.
2023-05-06 19:22:03 INFO  LogHelper:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-05-06 19:22:03 INFO  Version:44 - HHH000412: Hibernate ORM core version 5.6.9.Final
2023-05-06 19:22:04 INFO  Version:56 - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-05-06 19:22:04 INFO  Dialect:175 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2023-05-06 19:22:04 INFO  APIGatewayMain:55 - Starting APIGatewayMain using Java 17.0.1 on DESKTOP-RGGTMQN with PID 14264 (D:\Java Projects\NewAfisha\Afisha\api-gateway\target\classes started by desertfox in D:\Java Projects\NewAfisha\Afisha)
2023-05-06 19:22:04 INFO  APIGatewayMain:634 - No active profile set, falling back to 1 default profile: "default"
2023-05-06 19:22:05 INFO  ChangeableUrls:255 - The Class-Path manifest attribute in C:\Users\desertfox\.m2\repository\io\grpc\grpc-netty-shaded\1.30.0\grpc-netty-shaded-1.30.0.jar referenced one or more files that do not exist: file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-core-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-api-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/gson-2.8.6.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/annotations-4.1.1.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/animal-sniffer-annotations-1.18.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/error_prone_annotations-2.3.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/guava-28.2-android.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/perfmark-api-0.19.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/jsr305-3.0.2.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-context-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/failureaccess-1.0.1.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/checker-compat-qual-2.5.5.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/j2objc-annotations-1.3.jar
2023-05-06 19:22:05 INFO  DevToolsPropertyDefaultsPostProcessor:255 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-06 19:22:05 INFO  DevToolsPropertyDefaultsPostProcessor:255 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-06 19:22:05 INFO  JtaPlatformInitiator:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-05-06 19:22:05 INFO  LocalContainerEntityManagerFactoryBean:437 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-05-06 19:22:05 WARN  JpaBaseConfiguration$JpaWebConfiguration:219 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-05-06 19:22:07 INFO  OptionalLiveReloadServer:58 - LiveReload server is running on port 35729
2023-05-06 19:22:07 INFO  TomcatWebServer:220 - Tomcat started on port(s): 8080 (http) with context path ''
2023-05-06 19:22:07 INFO  AbstractGrpcServerFactory:115 - Registered gRPC service: ru.it.lab.UserService, bean: userServerService, class: ru.it.lab.service.UserServerService
2023-05-06 19:22:07 INFO  GrpcServerLifecycle:91 - gRPC Server started, listening on address: *, port: 16608
2023-05-06 19:22:07 INFO  UserMicroserviceMain:61 - Started UserMicroserviceMain in 8.124 seconds (JVM running for 8.763)
2023-05-06 19:22:07 INFO  TomcatWebServer:108 - Tomcat initialized with port(s): 8090 (http)
2023-05-06 19:22:07 INFO  StandardService:173 - Starting service [Tomcat]
2023-05-06 19:22:07 INFO  StandardEngine:173 - Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-06 19:22:07 INFO  [/]:173 - Initializing Spring embedded WebApplicationContext
2023-05-06 19:22:07 INFO  ServletWebServerApplicationContext:292 - Root WebApplicationContext: initialization completed in 2872 ms
2023-05-06 19:22:08 INFO  DefaultSecurityFilterChain:55 - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@242d55e1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2c9acc9b, org.springframework.security.web.context.SecurityContextPersistenceFilter@3070cdba, org.springframework.security.web.header.HeaderWriterFilter@13e9b5cc, org.springframework.security.web.authentication.logout.LogoutFilter@750e3157, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@18ede5ef, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1893cdf4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a923c8b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@76403dc8, org.springframework.security.web.session.SessionManagementFilter@656e3579, org.springframework.security.web.access.ExceptionTranslationFilter@d0ba557, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7bdbbb35]
2023-05-06 19:22:09 WARN  OptionalLiveReloadServer:61 - Unable to start LiveReload server
2023-05-06 19:22:09 INFO  TomcatWebServer:220 - Tomcat started on port(s): 8090 (http) with context path ''
2023-05-06 19:22:09 INFO  APIGatewayMain:61 - Started APIGatewayMain in 4.864 seconds (JVM running for 5.757)
2023-05-06 19:22:13 INFO  [/]:173 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-06 19:22:13 INFO  DispatcherServlet:525 - Initializing Servlet 'dispatcherServlet'
2023-05-06 19:22:13 INFO  DispatcherServlet:547 - Completed initialization in 4 ms
2023-05-06 19:24:52 WARN  PageNotFound:1278 - No mapping for GET /user/aleonka/profile
2023-05-06 19:24:59 WARN  PageNotFound:1278 - No mapping for GET /user/@aleonka/profile
2023-05-06 19:26:17 INFO  APIGatewayMain:55 - Starting APIGatewayMain using Java 17.0.1 on DESKTOP-RGGTMQN with PID 16012 (D:\Java Projects\NewAfisha\Afisha\api-gateway\target\classes started by desertfox in D:\Java Projects\NewAfisha\Afisha)
2023-05-06 19:26:17 INFO  APIGatewayMain:634 - No active profile set, falling back to 1 default profile: "default"
2023-05-06 19:26:17 INFO  ChangeableUrls:255 - The Class-Path manifest attribute in C:\Users\desertfox\.m2\repository\io\grpc\grpc-netty-shaded\1.30.0\grpc-netty-shaded-1.30.0.jar referenced one or more files that do not exist: file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-core-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-api-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/gson-2.8.6.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/annotations-4.1.1.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/animal-sniffer-annotations-1.18.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/error_prone_annotations-2.3.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/guava-28.2-android.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/perfmark-api-0.19.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/jsr305-3.0.2.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-context-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/failureaccess-1.0.1.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/checker-compat-qual-2.5.5.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/j2objc-annotations-1.3.jar
2023-05-06 19:26:17 INFO  DevToolsPropertyDefaultsPostProcessor:255 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-06 19:26:17 INFO  DevToolsPropertyDefaultsPostProcessor:255 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-06 19:26:18 INFO  TomcatWebServer:108 - Tomcat initialized with port(s): 8090 (http)
2023-05-06 19:26:18 INFO  StandardService:173 - Starting service [Tomcat]
2023-05-06 19:26:18 INFO  StandardEngine:173 - Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-06 19:26:18 INFO  [/]:173 - Initializing Spring embedded WebApplicationContext
2023-05-06 19:26:18 INFO  ServletWebServerApplicationContext:292 - Root WebApplicationContext: initialization completed in 1561 ms
2023-05-06 19:26:19 INFO  DefaultSecurityFilterChain:55 - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@49fe7790, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3eacf3a1, org.springframework.security.web.context.SecurityContextPersistenceFilter@10f64162, org.springframework.security.web.header.HeaderWriterFilter@4562f13d, org.springframework.security.web.authentication.logout.LogoutFilter@46f9c742, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4e926cfb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a7fc0c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6ab0ae78, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@f8a5a8f, org.springframework.security.web.session.SessionManagementFilter@36eb777a, org.springframework.security.web.access.ExceptionTranslationFilter@97e2b86, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6255d86e]
2023-05-06 19:26:20 WARN  OptionalLiveReloadServer:61 - Unable to start LiveReload server
2023-05-06 19:26:20 INFO  TomcatWebServer:220 - Tomcat started on port(s): 8090 (http) with context path ''
2023-05-06 19:26:20 INFO  APIGatewayMain:61 - Started APIGatewayMain in 3.505 seconds (JVM running for 4.081)
2023-05-06 19:26:29 INFO  [/]:173 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-06 19:26:29 INFO  DispatcherServlet:525 - Initializing Servlet 'dispatcherServlet'
2023-05-06 19:26:29 INFO  DispatcherServlet:547 - Completed initialization in 0 ms
2023-05-06 19:26:29 WARN  PageNotFound:1278 - No mapping for GET /user/@aleonka/profile
2023-05-06 19:27:16 INFO  APIGatewayMain:55 - Starting APIGatewayMain using Java 17.0.1 on DESKTOP-RGGTMQN with PID 17236 (D:\Java Projects\NewAfisha\Afisha\api-gateway\target\classes started by desertfox in D:\Java Projects\NewAfisha\Afisha)
2023-05-06 19:27:16 INFO  APIGatewayMain:634 - No active profile set, falling back to 1 default profile: "default"
2023-05-06 19:27:16 INFO  ChangeableUrls:255 - The Class-Path manifest attribute in C:\Users\desertfox\.m2\repository\io\grpc\grpc-netty-shaded\1.30.0\grpc-netty-shaded-1.30.0.jar referenced one or more files that do not exist: file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-core-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-api-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/gson-2.8.6.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/annotations-4.1.1.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/animal-sniffer-annotations-1.18.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/error_prone_annotations-2.3.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/guava-28.2-android.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/perfmark-api-0.19.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/jsr305-3.0.2.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-context-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/failureaccess-1.0.1.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/checker-compat-qual-2.5.5.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/j2objc-annotations-1.3.jar
2023-05-06 19:27:16 INFO  DevToolsPropertyDefaultsPostProcessor:255 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-06 19:27:16 INFO  DevToolsPropertyDefaultsPostProcessor:255 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-06 19:27:18 INFO  TomcatWebServer:108 - Tomcat initialized with port(s): 8090 (http)
2023-05-06 19:27:18 INFO  StandardService:173 - Starting service [Tomcat]
2023-05-06 19:27:18 INFO  StandardEngine:173 - Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-06 19:27:18 INFO  [/]:173 - Initializing Spring embedded WebApplicationContext
2023-05-06 19:27:18 INFO  ServletWebServerApplicationContext:292 - Root WebApplicationContext: initialization completed in 1595 ms
2023-05-06 19:27:19 INFO  DefaultSecurityFilterChain:55 - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@494bcbd5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@14c8be51, org.springframework.security.web.context.SecurityContextPersistenceFilter@4658b334, org.springframework.security.web.header.HeaderWriterFilter@1285cf8d, org.springframework.security.web.authentication.logout.LogoutFilter@4f831101, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3eacf3a1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ab0ae78, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@20d833a4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@63f961e4, org.springframework.security.web.session.SessionManagementFilter@19a7fc0c, org.springframework.security.web.access.ExceptionTranslationFilter@2fd35ac3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2170f79e]
2023-05-06 19:27:19 WARN  OptionalLiveReloadServer:61 - Unable to start LiveReload server
2023-05-06 19:27:19 INFO  TomcatWebServer:220 - Tomcat started on port(s): 8090 (http) with context path ''
2023-05-06 19:27:19 INFO  APIGatewayMain:61 - Started APIGatewayMain in 3.254 seconds (JVM running for 3.826)
2023-05-06 19:27:58 INFO  APIGatewayMain:55 - Starting APIGatewayMain using Java 17.0.1 on DESKTOP-RGGTMQN with PID 16484 (D:\Java Projects\NewAfisha\Afisha\api-gateway\target\classes started by desertfox in D:\Java Projects\NewAfisha\Afisha)
2023-05-06 19:27:58 INFO  APIGatewayMain:634 - No active profile set, falling back to 1 default profile: "default"
2023-05-06 19:27:58 INFO  ChangeableUrls:255 - The Class-Path manifest attribute in C:\Users\desertfox\.m2\repository\io\grpc\grpc-netty-shaded\1.30.0\grpc-netty-shaded-1.30.0.jar referenced one or more files that do not exist: file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-core-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-api-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/gson-2.8.6.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/annotations-4.1.1.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/animal-sniffer-annotations-1.18.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/error_prone_annotations-2.3.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/guava-28.2-android.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/perfmark-api-0.19.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/jsr305-3.0.2.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-context-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/failureaccess-1.0.1.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/checker-compat-qual-2.5.5.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/j2objc-annotations-1.3.jar
2023-05-06 19:27:58 INFO  DevToolsPropertyDefaultsPostProcessor:255 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-06 19:27:58 INFO  DevToolsPropertyDefaultsPostProcessor:255 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-06 19:27:59 INFO  TomcatWebServer:108 - Tomcat initialized with port(s): 8090 (http)
2023-05-06 19:27:59 INFO  StandardService:173 - Starting service [Tomcat]
2023-05-06 19:27:59 INFO  StandardEngine:173 - Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-06 19:27:59 INFO  [/]:173 - Initializing Spring embedded WebApplicationContext
2023-05-06 19:27:59 INFO  ServletWebServerApplicationContext:292 - Root WebApplicationContext: initialization completed in 1692 ms
2023-05-06 19:28:00 INFO  DefaultSecurityFilterChain:55 - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@63f961e4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6b4e89cb, org.springframework.security.web.context.SecurityContextPersistenceFilter@6ab0ae78, org.springframework.security.web.header.HeaderWriterFilter@61dd6dc2, org.springframework.security.web.authentication.logout.LogoutFilter@5a1f1f6b, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2adbb3a7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3c5e2a34, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c0d1a5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c4cf214, org.springframework.security.web.session.SessionManagementFilter@66166deb, org.springframework.security.web.access.ExceptionTranslationFilter@1285cf8d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@47813d30]
2023-05-06 19:28:00 WARN  OptionalLiveReloadServer:61 - Unable to start LiveReload server
2023-05-06 19:28:00 INFO  TomcatWebServer:220 - Tomcat started on port(s): 8090 (http) with context path ''
2023-05-06 19:28:00 INFO  APIGatewayMain:61 - Started APIGatewayMain in 3.379 seconds (JVM running for 3.988)
2023-05-06 19:28:07 INFO  APIGatewayMain:55 - Starting APIGatewayMain using Java 17.0.1 on DESKTOP-RGGTMQN with PID 13700 (D:\Java Projects\NewAfisha\Afisha\api-gateway\target\classes started by desertfox in D:\Java Projects\NewAfisha\Afisha)
2023-05-06 19:28:07 INFO  APIGatewayMain:634 - No active profile set, falling back to 1 default profile: "default"
2023-05-06 19:28:07 INFO  ChangeableUrls:255 - The Class-Path manifest attribute in C:\Users\desertfox\.m2\repository\io\grpc\grpc-netty-shaded\1.30.0\grpc-netty-shaded-1.30.0.jar referenced one or more files that do not exist: file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-core-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-api-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/gson-2.8.6.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/annotations-4.1.1.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/animal-sniffer-annotations-1.18.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/error_prone_annotations-2.3.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/guava-28.2-android.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/perfmark-api-0.19.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/jsr305-3.0.2.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-context-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/failureaccess-1.0.1.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/checker-compat-qual-2.5.5.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/j2objc-annotations-1.3.jar
2023-05-06 19:28:07 INFO  DevToolsPropertyDefaultsPostProcessor:255 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-06 19:28:07 INFO  DevToolsPropertyDefaultsPostProcessor:255 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-06 19:28:09 INFO  TomcatWebServer:108 - Tomcat initialized with port(s): 8090 (http)
2023-05-06 19:28:09 INFO  StandardService:173 - Starting service [Tomcat]
2023-05-06 19:28:09 INFO  StandardEngine:173 - Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-06 19:28:09 INFO  [/]:173 - Initializing Spring embedded WebApplicationContext
2023-05-06 19:28:09 INFO  ServletWebServerApplicationContext:292 - Root WebApplicationContext: initialization completed in 1559 ms
2023-05-06 19:28:10 INFO  DefaultSecurityFilterChain:55 - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@b7b1ea0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f3686d0, org.springframework.security.web.context.SecurityContextPersistenceFilter@5e34a99b, org.springframework.security.web.header.HeaderWriterFilter@fa6523c, org.springframework.security.web.authentication.logout.LogoutFilter@1ceabc2b, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@598f6435, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@47f0e020, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@599b4434, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4d8b382e, org.springframework.security.web.session.SessionManagementFilter@1b34eec, org.springframework.security.web.access.ExceptionTranslationFilter@2dbe389, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@66dbe6d5]
2023-05-06 19:28:10 WARN  OptionalLiveReloadServer:61 - Unable to start LiveReload server
2023-05-06 19:28:10 INFO  TomcatWebServer:220 - Tomcat started on port(s): 8090 (http) with context path ''
2023-05-06 19:28:10 INFO  APIGatewayMain:61 - Started APIGatewayMain in 3.193 seconds (JVM running for 3.774)
2023-05-06 19:28:23 INFO  [/]:173 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-06 19:28:23 INFO  DispatcherServlet:525 - Initializing Servlet 'dispatcherServlet'
2023-05-06 19:28:23 INFO  DispatcherServlet:547 - Completed initialization in 1 ms
2023-05-06 19:28:23 WARN  PageNotFound:1278 - No mapping for GET /user/aleonka/profile
2023-05-06 19:29:16 INFO  APIGatewayMain:55 - Starting APIGatewayMain using Java 17.0.1 on DESKTOP-RGGTMQN with PID 13876 (D:\Java Projects\NewAfisha\Afisha\api-gateway\target\classes started by desertfox in D:\Java Projects\NewAfisha\Afisha)
2023-05-06 19:29:16 INFO  APIGatewayMain:634 - No active profile set, falling back to 1 default profile: "default"
2023-05-06 19:29:16 INFO  ChangeableUrls:255 - The Class-Path manifest attribute in C:\Users\desertfox\.m2\repository\io\grpc\grpc-netty-shaded\1.30.0\grpc-netty-shaded-1.30.0.jar referenced one or more files that do not exist: file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-core-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-api-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/gson-2.8.6.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/annotations-4.1.1.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/animal-sniffer-annotations-1.18.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/error_prone_annotations-2.3.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/guava-28.2-android.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/perfmark-api-0.19.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/jsr305-3.0.2.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-context-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/failureaccess-1.0.1.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/checker-compat-qual-2.5.5.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/j2objc-annotations-1.3.jar
2023-05-06 19:29:16 INFO  DevToolsPropertyDefaultsPostProcessor:255 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-06 19:29:16 INFO  DevToolsPropertyDefaultsPostProcessor:255 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-06 19:29:17 INFO  TomcatWebServer:108 - Tomcat initialized with port(s): 8090 (http)
2023-05-06 19:29:17 INFO  StandardService:173 - Starting service [Tomcat]
2023-05-06 19:29:17 INFO  StandardEngine:173 - Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-06 19:29:17 INFO  [/]:173 - Initializing Spring embedded WebApplicationContext
2023-05-06 19:29:17 INFO  ServletWebServerApplicationContext:292 - Root WebApplicationContext: initialization completed in 1701 ms
2023-05-06 19:29:18 INFO  DefaultSecurityFilterChain:55 - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@772fa2e9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6c8677d1, org.springframework.security.web.context.SecurityContextPersistenceFilter@ee6ca21, org.springframework.security.web.header.HeaderWriterFilter@71b619f8, org.springframework.security.web.authentication.logout.LogoutFilter@23a69cf8, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5a2c21be, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@70346dd2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@55e71f93, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3bd03af5, org.springframework.security.web.session.SessionManagementFilter@413263b9, org.springframework.security.web.access.ExceptionTranslationFilter@3b3b5fc4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@73df6505]
2023-05-06 19:29:18 WARN  OptionalLiveReloadServer:61 - Unable to start LiveReload server
2023-05-06 19:29:18 INFO  TomcatWebServer:220 - Tomcat started on port(s): 8090 (http) with context path ''
2023-05-06 19:29:18 INFO  APIGatewayMain:61 - Started APIGatewayMain in 3.306 seconds (JVM running for 3.858)
2023-05-06 19:29:22 INFO  [/]:173 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-06 19:29:22 INFO  DispatcherServlet:525 - Initializing Servlet 'dispatcherServlet'
2023-05-06 19:29:22 INFO  DispatcherServlet:547 - Completed initialization in 1 ms
2023-05-06 19:29:23 ERROR SerializingExecutor:126 - Exception while executing runnable io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed@4a86f85
java.lang.NullPointerException: Cannot invoke "ru.it.lab.entitities.User.getId()" because "user" is null
	at ru.it.lab.service.UserServerService.getUserByUsername(UserServerService.java:146)
	at ru.it.lab.UserServiceGrpc$MethodHandlers.invoke(UserServiceGrpc.java:494)
	at io.grpc.stub.ServerCalls$UnaryServerCallHandler$UnaryServerCallListener.onHalfClose(ServerCalls.java:172)
	at io.grpc.PartialForwardingServerCallListener.onHalfClose(PartialForwardingServerCallListener.java:35)
	at io.grpc.ForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:23)
	at io.grpc.ForwardingServerCallListener$SimpleForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:40)
	at io.grpc.Contexts$ContextualizedServerCallListener.onHalfClose(Contexts.java:86)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.halfClosed(ServerCallImpl.java:331)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed.runInContext(ServerImpl.java:820)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-05-06 19:29:23 ERROR [dispatcherServlet]:175 - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is io.grpc.StatusRuntimeException: UNKNOWN] with root cause
io.grpc.StatusRuntimeException: UNKNOWN
	at io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:244)
	at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:225)
	at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:142)
	at ru.it.lab.UserServiceGrpc$UserServiceBlockingStub.getUserByUsername(UserServiceGrpc.java:349)
	at ru.it.lab.controller.UsersController.getUserInfo(UsersController.java:138)
	at ru.it.lab.controller.UsersController$$FastClassBySpringCGLIB$$6033fa8b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at ru.it.lab.controller.UsersController$$EnhancerBySpringCGLIB$$a92a5b16.getUserInfo(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-05-06 19:31:40 INFO  APIGatewayMain:55 - Starting APIGatewayMain using Java 17.0.1 on DESKTOP-RGGTMQN with PID 4712 (D:\Java Projects\NewAfisha\Afisha\api-gateway\target\classes started by desertfox in D:\Java Projects\NewAfisha\Afisha)
2023-05-06 19:31:40 INFO  APIGatewayMain:634 - No active profile set, falling back to 1 default profile: "default"
2023-05-06 19:31:40 INFO  ChangeableUrls:255 - The Class-Path manifest attribute in C:\Users\desertfox\.m2\repository\io\grpc\grpc-netty-shaded\1.30.0\grpc-netty-shaded-1.30.0.jar referenced one or more files that do not exist: file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-core-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-api-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/gson-2.8.6.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/annotations-4.1.1.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/animal-sniffer-annotations-1.18.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/error_prone_annotations-2.3.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/guava-28.2-android.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/perfmark-api-0.19.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/jsr305-3.0.2.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-context-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/failureaccess-1.0.1.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/checker-compat-qual-2.5.5.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/j2objc-annotations-1.3.jar
2023-05-06 19:31:40 INFO  DevToolsPropertyDefaultsPostProcessor:255 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-06 19:31:40 INFO  DevToolsPropertyDefaultsPostProcessor:255 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-06 19:31:42 INFO  TomcatWebServer:108 - Tomcat initialized with port(s): 8090 (http)
2023-05-06 19:31:42 INFO  StandardService:173 - Starting service [Tomcat]
2023-05-06 19:31:42 INFO  StandardEngine:173 - Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-06 19:31:42 INFO  [/]:173 - Initializing Spring embedded WebApplicationContext
2023-05-06 19:31:42 INFO  ServletWebServerApplicationContext:292 - Root WebApplicationContext: initialization completed in 1779 ms
2023-05-06 19:31:43 INFO  GrpcServerLifecycle:116 - gRPC server shutdown.
2023-05-06 19:31:43 INFO  LocalContainerEntityManagerFactoryBean:651 - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-05-06 19:31:43 INFO  HikariDataSource:350 - HikariPool-1 - Shutdown initiated...
2023-05-06 19:31:43 INFO  HikariDataSource:352 - HikariPool-1 - Shutdown completed.
2023-05-06 19:31:43 INFO  DefaultSecurityFilterChain:55 - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@15c6257e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3417015b, org.springframework.security.web.context.SecurityContextPersistenceFilter@fa6523c, org.springframework.security.web.header.HeaderWriterFilter@3a3382c0, org.springframework.security.web.authentication.logout.LogoutFilter@265dc91f, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6c53d2b3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5e4f6ba7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c3ec883, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@9038196, org.springframework.security.web.session.SessionManagementFilter@32a7db1c, org.springframework.security.web.access.ExceptionTranslationFilter@61f288b0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@34c10bad]
2023-05-06 19:31:43 INFO  OptionalLiveReloadServer:58 - LiveReload server is running on port 35729
2023-05-06 19:31:43 INFO  TomcatWebServer:220 - Tomcat started on port(s): 8090 (http) with context path ''
2023-05-06 19:31:43 INFO  APIGatewayMain:61 - Started APIGatewayMain in 3.613 seconds (JVM running for 4.223)
2023-05-06 19:31:46 INFO  UserMicroserviceMain:55 - Starting UserMicroserviceMain using Java 17.0.1 on DESKTOP-RGGTMQN with PID 9876 (D:\Java Projects\NewAfisha\Afisha\user-service\target\classes started by desertfox in D:\Java Projects\NewAfisha\Afisha)
2023-05-06 19:31:46 INFO  UserMicroserviceMain:634 - No active profile set, falling back to 1 default profile: "default"
2023-05-06 19:31:46 INFO  ChangeableUrls:255 - The Class-Path manifest attribute in C:\Users\desertfox\.m2\repository\io\grpc\grpc-netty-shaded\1.30.0\grpc-netty-shaded-1.30.0.jar referenced one or more files that do not exist: file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-core-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-api-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/gson-2.8.6.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/annotations-4.1.1.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/animal-sniffer-annotations-1.18.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/error_prone_annotations-2.3.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/guava-28.2-android.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/perfmark-api-0.19.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/jsr305-3.0.2.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-context-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/failureaccess-1.0.1.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/checker-compat-qual-2.5.5.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/j2objc-annotations-1.3.jar
2023-05-06 19:31:46 INFO  DevToolsPropertyDefaultsPostProcessor:255 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-06 19:31:46 INFO  DevToolsPropertyDefaultsPostProcessor:255 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-06 19:31:47 INFO  RepositoryConfigurationDelegate:132 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-05-06 19:31:47 INFO  RepositoryConfigurationDelegate:201 - Finished Spring Data repository scanning in 27 ms. Found 0 JPA repository interfaces.
2023-05-06 19:31:48 INFO  TomcatWebServer:108 - Tomcat initialized with port(s): 8080 (http)
2023-05-06 19:31:48 INFO  StandardService:173 - Starting service [Tomcat]
2023-05-06 19:31:48 INFO  StandardEngine:173 - Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-06 19:31:48 INFO  [/]:173 - Initializing Spring embedded WebApplicationContext
2023-05-06 19:31:48 INFO  ServletWebServerApplicationContext:292 - Root WebApplicationContext: initialization completed in 1999 ms
2023-05-06 19:31:48 INFO  VersionPrinter:37 - Flyway Community Edition 8.5.13 by Redgate
2023-05-06 19:31:48 INFO  VersionPrinter:37 - See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-05-06 19:31:48 INFO  VersionPrinter:37 - 
2023-05-06 19:31:48 INFO  HikariDataSource:110 - HikariPool-1 - Starting...
2023-05-06 19:31:48 INFO  HikariDataSource:123 - HikariPool-1 - Start completed.
2023-05-06 19:31:48 INFO  BaseDatabaseType:37 - Database: jdbc:postgresql://localhost:5432/afishaDB (PostgreSQL 15.0)
2023-05-06 19:31:48 WARN  Database:41 - Flyway upgrade recommended: PostgreSQL 15.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2023-05-06 19:31:48 INFO  DbValidate:37 - Successfully validated 2 migrations (execution time 00:00.024s)
2023-05-06 19:31:48 INFO  DbMigrate:37 - Current version of schema "public": 2023.05.04.1.17
2023-05-06 19:31:48 INFO  DbMigrate:37 - Schema "public" is up to date. No migration necessary.
2023-05-06 19:31:49 INFO  LogHelper:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-05-06 19:31:49 INFO  Version:44 - HHH000412: Hibernate ORM core version 5.6.9.Final
2023-05-06 19:31:49 INFO  Version:56 - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-05-06 19:31:49 INFO  Dialect:175 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2023-05-06 19:31:50 INFO  JtaPlatformInitiator:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-05-06 19:31:50 INFO  LocalContainerEntityManagerFactoryBean:437 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-05-06 19:31:50 WARN  JpaBaseConfiguration$JpaWebConfiguration:219 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-05-06 19:31:51 WARN  OptionalLiveReloadServer:61 - Unable to start LiveReload server
2023-05-06 19:31:51 INFO  TomcatWebServer:220 - Tomcat started on port(s): 8080 (http) with context path ''
2023-05-06 19:31:51 INFO  AbstractGrpcServerFactory:115 - Registered gRPC service: ru.it.lab.UserService, bean: userServerService, class: ru.it.lab.service.UserServerService
2023-05-06 19:31:51 INFO  GrpcServerLifecycle:91 - gRPC Server started, listening on address: *, port: 16608
2023-05-06 19:31:51 INFO  UserMicroserviceMain:61 - Started UserMicroserviceMain in 6.13 seconds (JVM running for 7.126)
2023-05-06 19:32:02 INFO  [/]:173 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-06 19:32:02 INFO  DispatcherServlet:525 - Initializing Servlet 'dispatcherServlet'
2023-05-06 19:32:02 INFO  DispatcherServlet:547 - Completed initialization in 2 ms
2023-05-06 19:32:47 ERROR SerializingExecutor:126 - Exception while executing runnable io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed@604140b4
java.lang.NullPointerException: Cannot invoke "ru.it.lab.entitities.User.getId()" because "user" is null
	at ru.it.lab.service.UserServerService.getUserByUsername(UserServerService.java:146)
	at ru.it.lab.UserServiceGrpc$MethodHandlers.invoke(UserServiceGrpc.java:494)
	at io.grpc.stub.ServerCalls$UnaryServerCallHandler$UnaryServerCallListener.onHalfClose(ServerCalls.java:172)
	at io.grpc.PartialForwardingServerCallListener.onHalfClose(PartialForwardingServerCallListener.java:35)
	at io.grpc.ForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:23)
	at io.grpc.ForwardingServerCallListener$SimpleForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:40)
	at io.grpc.Contexts$ContextualizedServerCallListener.onHalfClose(Contexts.java:86)
	at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.halfClosed(ServerCallImpl.java:331)
	at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed.runInContext(ServerImpl.java:820)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-05-06 19:32:47 ERROR [dispatcherServlet]:175 - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is io.grpc.StatusRuntimeException: UNKNOWN] with root cause
io.grpc.StatusRuntimeException: UNKNOWN
	at io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:244)
	at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:225)
	at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:142)
	at ru.it.lab.UserServiceGrpc$UserServiceBlockingStub.getUserByUsername(UserServiceGrpc.java:349)
	at ru.it.lab.controller.UsersController.getUserInfo(UsersController.java:138)
	at ru.it.lab.controller.UsersController$$FastClassBySpringCGLIB$$6033fa8b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at ru.it.lab.controller.UsersController$$EnhancerBySpringCGLIB$$ad7aacde.getUserInfo(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:166)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-05-06 19:36:13 INFO  GrpcServerLifecycle:116 - gRPC server shutdown.
2023-05-06 19:36:13 INFO  LocalContainerEntityManagerFactoryBean:651 - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-05-06 19:36:13 INFO  HikariDataSource:350 - HikariPool-1 - Shutdown initiated...
2023-05-06 19:36:13 INFO  HikariDataSource:352 - HikariPool-1 - Shutdown completed.
2023-05-06 19:36:18 INFO  UserMicroserviceMain:55 - Starting UserMicroserviceMain using Java 17.0.1 on DESKTOP-RGGTMQN with PID 8736 (D:\Java Projects\NewAfisha\Afisha\user-service\target\classes started by desertfox in D:\Java Projects\NewAfisha\Afisha)
2023-05-06 19:36:18 INFO  UserMicroserviceMain:634 - No active profile set, falling back to 1 default profile: "default"
2023-05-06 19:36:18 INFO  ChangeableUrls:255 - The Class-Path manifest attribute in C:\Users\desertfox\.m2\repository\io\grpc\grpc-netty-shaded\1.30.0\grpc-netty-shaded-1.30.0.jar referenced one or more files that do not exist: file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-core-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-api-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/gson-2.8.6.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/annotations-4.1.1.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/animal-sniffer-annotations-1.18.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/error_prone_annotations-2.3.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/guava-28.2-android.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/perfmark-api-0.19.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/jsr305-3.0.2.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-context-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/failureaccess-1.0.1.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/checker-compat-qual-2.5.5.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/j2objc-annotations-1.3.jar
2023-05-06 19:36:18 INFO  DevToolsPropertyDefaultsPostProcessor:255 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-06 19:36:18 INFO  DevToolsPropertyDefaultsPostProcessor:255 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-06 19:36:19 INFO  RepositoryConfigurationDelegate:132 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-05-06 19:36:19 INFO  RepositoryConfigurationDelegate:201 - Finished Spring Data repository scanning in 22 ms. Found 0 JPA repository interfaces.
2023-05-06 19:36:20 INFO  TomcatWebServer:108 - Tomcat initialized with port(s): 8080 (http)
2023-05-06 19:36:20 INFO  StandardService:173 - Starting service [Tomcat]
2023-05-06 19:36:20 INFO  StandardEngine:173 - Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-06 19:36:20 INFO  [/]:173 - Initializing Spring embedded WebApplicationContext
2023-05-06 19:36:20 INFO  ServletWebServerApplicationContext:292 - Root WebApplicationContext: initialization completed in 2011 ms
2023-05-06 19:36:21 INFO  VersionPrinter:37 - Flyway Community Edition 8.5.13 by Redgate
2023-05-06 19:36:21 INFO  VersionPrinter:37 - See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-05-06 19:36:21 INFO  VersionPrinter:37 - 
2023-05-06 19:36:21 INFO  HikariDataSource:110 - HikariPool-1 - Starting...
2023-05-06 19:36:21 INFO  HikariDataSource:123 - HikariPool-1 - Start completed.
2023-05-06 19:36:21 INFO  BaseDatabaseType:37 - Database: jdbc:postgresql://localhost:5432/afishaDB (PostgreSQL 15.0)
2023-05-06 19:36:21 WARN  Database:41 - Flyway upgrade recommended: PostgreSQL 15.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2023-05-06 19:36:21 INFO  DbValidate:37 - Successfully validated 2 migrations (execution time 00:00.029s)
2023-05-06 19:36:21 INFO  DbMigrate:37 - Current version of schema "public": 2023.05.04.1.17
2023-05-06 19:36:21 INFO  DbMigrate:37 - Schema "public" is up to date. No migration necessary.
2023-05-06 19:36:21 INFO  LogHelper:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-05-06 19:36:21 INFO  Version:44 - HHH000412: Hibernate ORM core version 5.6.9.Final
2023-05-06 19:36:21 INFO  Version:56 - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-05-06 19:36:22 INFO  Dialect:175 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2023-05-06 19:36:22 INFO  JtaPlatformInitiator:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-05-06 19:36:22 INFO  LocalContainerEntityManagerFactoryBean:437 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-05-06 19:36:23 WARN  JpaBaseConfiguration$JpaWebConfiguration:219 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-05-06 19:36:23 WARN  OptionalLiveReloadServer:61 - Unable to start LiveReload server
2023-05-06 19:36:23 INFO  TomcatWebServer:220 - Tomcat started on port(s): 8080 (http) with context path ''
2023-05-06 19:36:23 INFO  AbstractGrpcServerFactory:115 - Registered gRPC service: ru.it.lab.UserService, bean: userServerService, class: ru.it.lab.service.UserServerService
2023-05-06 19:36:23 INFO  GrpcServerLifecycle:91 - gRPC Server started, listening on address: *, port: 16608
2023-05-06 19:36:23 INFO  UserMicroserviceMain:61 - Started UserMicroserviceMain in 5.763 seconds (JVM running for 6.405)
2023-05-06 19:36:27 ERROR [dispatcherServlet]:175 - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is io.grpc.StatusRuntimeException: UNAVAILABLE: io exception] with root cause
java.net.ConnectException: Connection refused: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946)
	at io.grpc.netty.shaded.io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:330)
	at io.grpc.netty.shaded.io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)
	at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:702)
	at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-05-06 19:45:20 INFO  GrpcServerLifecycle:116 - gRPC server shutdown.
2023-05-06 19:45:20 INFO  LocalContainerEntityManagerFactoryBean:651 - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-05-06 19:45:20 INFO  HikariDataSource:350 - HikariPool-1 - Shutdown initiated...
2023-05-06 19:45:20 INFO  HikariDataSource:352 - HikariPool-1 - Shutdown completed.
2023-05-06 19:45:27 INFO  UserMicroserviceMain:55 - Starting UserMicroserviceMain using Java 17.0.1 on DESKTOP-RGGTMQN with PID 9584 (D:\Java Projects\NewAfisha\Afisha\user-service\target\classes started by desertfox in D:\Java Projects\NewAfisha\Afisha)
2023-05-06 19:45:27 INFO  UserMicroserviceMain:634 - No active profile set, falling back to 1 default profile: "default"
2023-05-06 19:45:28 INFO  ChangeableUrls:255 - The Class-Path manifest attribute in C:\Users\desertfox\.m2\repository\io\grpc\grpc-netty-shaded\1.30.0\grpc-netty-shaded-1.30.0.jar referenced one or more files that do not exist: file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-core-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-api-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/gson-2.8.6.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/annotations-4.1.1.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/animal-sniffer-annotations-1.18.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/error_prone_annotations-2.3.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/guava-28.2-android.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/perfmark-api-0.19.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/jsr305-3.0.2.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-context-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/failureaccess-1.0.1.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/checker-compat-qual-2.5.5.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/j2objc-annotations-1.3.jar
2023-05-06 19:45:28 INFO  DevToolsPropertyDefaultsPostProcessor:255 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-06 19:45:28 INFO  DevToolsPropertyDefaultsPostProcessor:255 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-06 19:45:29 INFO  RepositoryConfigurationDelegate:132 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-05-06 19:45:29 INFO  RepositoryConfigurationDelegate:201 - Finished Spring Data repository scanning in 26 ms. Found 0 JPA repository interfaces.
2023-05-06 19:45:30 INFO  TomcatWebServer:108 - Tomcat initialized with port(s): 8080 (http)
2023-05-06 19:45:30 INFO  StandardService:173 - Starting service [Tomcat]
2023-05-06 19:45:30 INFO  StandardEngine:173 - Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-06 19:45:30 INFO  [/]:173 - Initializing Spring embedded WebApplicationContext
2023-05-06 19:45:30 INFO  ServletWebServerApplicationContext:292 - Root WebApplicationContext: initialization completed in 2128 ms
2023-05-06 19:45:30 INFO  VersionPrinter:37 - Flyway Community Edition 8.5.13 by Redgate
2023-05-06 19:45:30 INFO  VersionPrinter:37 - See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-05-06 19:45:30 INFO  VersionPrinter:37 - 
2023-05-06 19:45:30 INFO  HikariDataSource:110 - HikariPool-1 - Starting...
2023-05-06 19:45:30 INFO  HikariDataSource:123 - HikariPool-1 - Start completed.
2023-05-06 19:45:30 INFO  BaseDatabaseType:37 - Database: jdbc:postgresql://localhost:5432/afishaDB (PostgreSQL 15.0)
2023-05-06 19:45:30 WARN  Database:41 - Flyway upgrade recommended: PostgreSQL 15.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2023-05-06 19:45:30 INFO  DbValidate:37 - Successfully validated 2 migrations (execution time 00:00.041s)
2023-05-06 19:45:30 INFO  DbMigrate:37 - Current version of schema "public": 2023.05.04.1.17
2023-05-06 19:45:30 INFO  DbMigrate:37 - Schema "public" is up to date. No migration necessary.
2023-05-06 19:45:31 INFO  LogHelper:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-05-06 19:45:31 INFO  Version:44 - HHH000412: Hibernate ORM core version 5.6.9.Final
2023-05-06 19:45:31 INFO  Version:56 - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-05-06 19:45:31 INFO  Dialect:175 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2023-05-06 19:45:33 INFO  JtaPlatformInitiator:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-05-06 19:45:33 INFO  LocalContainerEntityManagerFactoryBean:437 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-05-06 19:45:33 WARN  JpaBaseConfiguration$JpaWebConfiguration:219 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-05-06 19:45:33 WARN  OptionalLiveReloadServer:61 - Unable to start LiveReload server
2023-05-06 19:45:33 INFO  TomcatWebServer:220 - Tomcat started on port(s): 8080 (http) with context path ''
2023-05-06 19:45:34 INFO  AbstractGrpcServerFactory:115 - Registered gRPC service: ru.it.lab.UserService, bean: userServerService, class: ru.it.lab.service.UserServerService
2023-05-06 19:45:34 INFO  GrpcServerLifecycle:91 - gRPC Server started, listening on address: *, port: 16608
2023-05-06 19:45:34 INFO  UserMicroserviceMain:61 - Started UserMicroserviceMain in 7.579 seconds (JVM running for 8.248)
2023-05-06 19:45:35 ERROR [dispatcherServlet]:175 - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is io.grpc.StatusRuntimeException: UNAVAILABLE: io exception] with root cause
java.net.ConnectException: Connection refused: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946)
	at io.grpc.netty.shaded.io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:330)
	at io.grpc.netty.shaded.io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)
	at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:702)
	at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)
	at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)
	at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)
	at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)
	at io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:833)
2023-05-06 19:55:09 INFO  GrpcServerLifecycle:116 - gRPC server shutdown.
2023-05-06 19:55:09 INFO  LocalContainerEntityManagerFactoryBean:651 - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-05-06 19:55:09 INFO  HikariDataSource:350 - HikariPool-1 - Shutdown initiated...
2023-05-06 19:55:09 INFO  HikariDataSource:352 - HikariPool-1 - Shutdown completed.
2023-05-06 19:55:13 INFO  UserMicroserviceMain:55 - Starting UserMicroserviceMain using Java 17.0.1 on DESKTOP-RGGTMQN with PID 5328 (D:\Java Projects\NewAfisha\Afisha\user-service\target\classes started by desertfox in D:\Java Projects\NewAfisha\Afisha)
2023-05-06 19:55:13 INFO  UserMicroserviceMain:634 - No active profile set, falling back to 1 default profile: "default"
2023-05-06 19:55:13 INFO  ChangeableUrls:255 - The Class-Path manifest attribute in C:\Users\desertfox\.m2\repository\io\grpc\grpc-netty-shaded\1.30.0\grpc-netty-shaded-1.30.0.jar referenced one or more files that do not exist: file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-core-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-api-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/gson-2.8.6.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/annotations-4.1.1.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/animal-sniffer-annotations-1.18.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/error_prone_annotations-2.3.4.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/guava-28.2-android.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/perfmark-api-0.19.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/jsr305-3.0.2.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/grpc-context-1.30.0.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/failureaccess-1.0.1.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/checker-compat-qual-2.5.5.jar,file:/C:/Users/desertfox/.m2/repository/io/grpc/grpc-netty-shaded/1.30.0/j2objc-annotations-1.3.jar
2023-05-06 19:55:13 INFO  DevToolsPropertyDefaultsPostProcessor:255 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-05-06 19:55:13 INFO  DevToolsPropertyDefaultsPostProcessor:255 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-05-06 19:55:14 INFO  RepositoryConfigurationDelegate:132 - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-05-06 19:55:14 INFO  RepositoryConfigurationDelegate:201 - Finished Spring Data repository scanning in 21 ms. Found 0 JPA repository interfaces.
2023-05-06 19:55:15 INFO  TomcatWebServer:108 - Tomcat initialized with port(s): 8080 (http)
2023-05-06 19:55:15 INFO  StandardService:173 - Starting service [Tomcat]
2023-05-06 19:55:15 INFO  StandardEngine:173 - Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-06 19:55:15 INFO  [/]:173 - Initializing Spring embedded WebApplicationContext
2023-05-06 19:55:15 INFO  ServletWebServerApplicationContext:292 - Root WebApplicationContext: initialization completed in 2149 ms
2023-05-06 19:55:16 INFO  VersionPrinter:37 - Flyway Community Edition 8.5.13 by Redgate
2023-05-06 19:55:16 INFO  VersionPrinter:37 - See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2023-05-06 19:55:16 INFO  VersionPrinter:37 - 
2023-05-06 19:55:16 INFO  HikariDataSource:110 - HikariPool-1 - Starting...
2023-05-06 19:55:16 INFO  HikariDataSource:123 - HikariPool-1 - Start completed.
2023-05-06 19:55:16 INFO  BaseDatabaseType:37 - Database: jdbc:postgresql://localhost:5432/afishaDB (PostgreSQL 15.0)
2023-05-06 19:55:16 WARN  Database:41 - Flyway upgrade recommended: PostgreSQL 15.0 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2023-05-06 19:55:16 INFO  DbValidate:37 - Successfully validated 2 migrations (execution time 00:00.021s)
2023-05-06 19:55:16 INFO  DbMigrate:37 - Current version of schema "public": 2023.05.04.1.17
2023-05-06 19:55:16 INFO  DbMigrate:37 - Schema "public" is up to date. No migration necessary.
2023-05-06 19:55:16 INFO  LogHelper:31 - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-05-06 19:55:16 INFO  Version:44 - HHH000412: Hibernate ORM core version 5.6.9.Final
2023-05-06 19:55:17 INFO  Version:56 - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-05-06 19:55:17 INFO  Dialect:175 - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2023-05-06 19:55:17 INFO  JtaPlatformInitiator:52 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-05-06 19:55:17 INFO  LocalContainerEntityManagerFactoryBean:437 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-05-06 19:55:18 WARN  JpaBaseConfiguration$JpaWebConfiguration:219 - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-05-06 19:55:18 WARN  OptionalLiveReloadServer:61 - Unable to start LiveReload server
2023-05-06 19:55:18 INFO  TomcatWebServer:220 - Tomcat started on port(s): 8080 (http) with context path ''
2023-05-06 19:55:18 INFO  AbstractGrpcServerFactory:115 - Registered gRPC service: ru.it.lab.UserService, bean: userServerService, class: ru.it.lab.service.UserServerService
2023-05-06 19:55:19 INFO  GrpcServerLifecycle:91 - gRPC Server started, listening on address: *, port: 16608
2023-05-06 19:55:19 INFO  UserMicroserviceMain:61 - Started UserMicroserviceMain in 6.073 seconds (JVM running for 6.749)
